
<!--
    // (c) Copyright Microsoft Corporation.
    // This source is subject to Microsoft Public License (Ms-PL).
    // Please see http://go.microsoft.com/fwlink/?LinkID=131993 for details.
    // All other rights reserved.
-->

<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:basic="clr-namespace:Microsoft.Windows.Controls;assembly=WPFToolkit"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:primitives="clr-namespace:Microsoft.Windows.Controls.Primitives;assembly=WPFToolkit"
                    xmlns:vsm="clr-namespace:System.Windows;assembly=WPFToolkit"
                    mc:Ignorable="d">

    <LinearGradientBrush x:Key="WindowBackgroundBrush" StartPoint="0.5,0" EndPoint="0.5,1">
        <GradientStop Offset="0" Color="#FFE1E4BE" />
        <GradientStop Offset="1" Color="#FFF9F9E4" />
    </LinearGradientBrush>

    <!--  Basic Brushes  -->
    <SolidColorBrush x:Key="TextBrush" Color="#66603a" />
    <Color x:Key="PrimaryColor">#f9f9e4</Color>
    <Color x:Key="SecondaryColor">#e0e3bc</Color>
    <SolidColorBrush x:Key="PrimaryBrush" Color="{DynamicResource PrimaryColor}" />
    <SolidColorBrush x:Key="SecondaryBrush" Color="{DynamicResource SecondaryColor}" />
    <Color x:Key="DisabledColor">#8CFFFFFF</Color>

    <RadialGradientBrush x:Key="HaloMask">
        <RadialGradientBrush.RelativeTransform>
            <TransformGroup>
                <ScaleTransform CenterX="0.5"
                                CenterY="0.5"
                                ScaleX="1.25"
                                ScaleY="4" />
                <TranslateTransform Y="-.2" />
            </TransformGroup>
        </RadialGradientBrush.RelativeTransform>
        <GradientStop Offset="0.528" Color="#00ffffff" />
        <GradientStop Offset="0.776" Color="#26FFFFFF" />
        <GradientStop Offset="1" Color="#BFFFFFFF" />
    </RadialGradientBrush>
    <LinearGradientBrush x:Key="FocusMask" StartPoint="1,.5" EndPoint="0,.5">
        <GradientStop Offset="0" Color="#99000000" />
        <GradientStop Offset=".5" Color="#33FFFFFF" />
        <GradientStop Offset="1" Color="#99000000" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="BottomShadowMask" StartPoint="0.5,-.25" EndPoint="0.5,1.75">
        <GradientStop Offset="0.2" Color="#00000000" />
        <GradientStop Offset="1" Color="#FFFFFFFF" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="BoxBottomShadowMask" StartPoint="0.5,-1" EndPoint="0.5,1">
        <GradientStop Offset="0" Color="#FFFFFFFF" />
        <GradientStop Offset="0.675" Color="#00000000" />
    </LinearGradientBrush>

    <!--  Button  -->
    <Style TargetType="Button">
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value=".5,.5,1.5,1.5" />
        <Setter Property="Padding" Value="8,3" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="FocusStates">
                                <vsm:VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="HasFocus"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unfocused" />
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualStateGroup.Transitions>
                                    <vsm:VisualTransition GeneratedDuration="00:00:00.2000000" />
                                    <vsm:VisualTransition From="MouseOver"
                                                          GeneratedDuration="00:00:00"
                                                          To="Pressed" />
                                    <vsm:VisualTransition From="Pressed" GeneratedDuration="00:00:00" />
                                </vsm:VisualStateGroup.Transitions>
                                <vsm:VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="InnerShadow"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="2.5,2.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="0.5,0.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="InnerShadow"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.65" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.35" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Border x:Name="Background"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="0.5,0.5,1.5,1.5"
                                CornerRadius="12" />
                        <Grid x:Name="InnerShadow"
                              Grid.RowSpan="2"
                              Grid.ColumnSpan="2">
                            <Border x:Name="BottomShadow"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource BottomShadowMask}" />
                            <Border x:Name="Halo"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource HaloMask}" />
                        </Grid>
                        <ContentPresenter x:Name="contentPresenter"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          RenderTransformOrigin="0.5,0.5">
                            <ContentPresenter.RenderTransform>
                                <TransformGroup>
                                    <TranslateTransform />
                                </TransformGroup>
                            </ContentPresenter.RenderTransform>
                        </ContentPresenter>
                        <Border x:Name="HasFocus"
                                Margin="-3"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="13"
                                OpacityMask="{StaticResource FocusMask}"
                                Visibility="Collapsed" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Background" Property="BorderThickness" Value="0.5,0.5,0.5,0.5" />
                            <Setter TargetName="InnerShadow" Property="Opacity" Value="0.65" />
                            <Setter TargetName="contentPresenter" Property="Opacity" Value="0.35" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  ToggleButton  -->
    <!--  ToggleButton  -->
    <Style TargetType="{x:Type ToggleButton}">
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value=".5,.5,1.5,1.5" />
        <Setter Property="Padding" Value="8,3" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ToggleButton}">
                    <Grid>
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualStateGroup.Transitions>
                                    <vsm:VisualTransition GeneratedDuration="00:00:00.2" />
                                    <vsm:VisualTransition From="MouseOver"
                                                          GeneratedDuration="00:00:00"
                                                          To="Pressed" />
                                    <vsm:VisualTransition From="Pressed" GeneratedDuration="00:00:00" />
                                </vsm:VisualStateGroup.Transitions>
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="InnerShadow"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="2.5,2.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="0.5,0.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="InnerShadow"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.65" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.35" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="CheckStates">
                                <vsm:VisualState x:Name="Checked">
                                    <Storyboard>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="1.75,1.75,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                       Duration="00:00:00.0010000"
                                                                       Storyboard.TargetName="Toggled"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unchecked" />
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="FocusStates">
                                <vsm:VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="HasFocus"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                       Duration="00:00:00.0010000"
                                                                       Storyboard.TargetName="HasFocus"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="00:00:00" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unfocused" />
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Border x:Name="HasFocus"
                                Margin="-3"
                                Background="#00000000"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="13"
                                Opacity="0"
                                OpacityMask="{DynamicResource FocusMask}"
                                Visibility="Visible" />
                        <Border x:Name="Background"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="0.5,0.5,1.5,1.5"
                                CornerRadius="12">
                            <Border x:Name="Toggled"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="11"
                                    Opacity=".2"
                                    Visibility="Collapsed" />
                        </Border>
                        <Grid x:Name="InnerShadow"
                              Grid.RowSpan="2"
                              Grid.ColumnSpan="2">
                            <Border x:Name="BottomShadow"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource BottomShadowMask}" />
                            <Border x:Name="Halo"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource HaloMask}" />
                        </Grid>
                        <ContentPresenter x:Name="contentPresenter"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          RenderTransformOrigin="0.5,0.5">
                            <ContentPresenter.RenderTransform>
                                <TransformGroup>
                                    <TranslateTransform X="0" Y="0" />
                                </TransformGroup>
                            </ContentPresenter.RenderTransform>
                        </ContentPresenter>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Background" Property="BorderThickness" Value="0.5,0.5,0.5,0.5" />
                            <Setter TargetName="InnerShadow" Property="Opacity" Value="0.65" />
                            <Setter TargetName="contentPresenter" Property="Opacity" Value="0.35" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

    </Style>

    <!--  CheckBox  -->
    <Style TargetType="{x:Type CheckBox}">
        <Setter Property="SnapsToDevicePixels" Value="true" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="Content" Value="CheckBox" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Top" />
        <Setter Property="Padding" Value="4,1,0,0" />
        <Setter Property="BorderThickness" Value="0.5,0.5,1.5,1.5" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CheckBox}">
                    <Grid>
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualStateGroup.Transitions>
                                    <vsm:VisualTransition GeneratedDuration="00:00:00.2" To="MouseOver" />
                                    <vsm:VisualTransition From="MouseOver" GeneratedDuration="00:00:00.2" />
                                    <vsm:VisualTransition GeneratedDuration="00:00:00" To="Pressed" />
                                </vsm:VisualStateGroup.Transitions>
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Shadow"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Border"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="1.5,1.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.55" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Border"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="0.5,0.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                       Duration="00:00:00.0010000"
                                                                       Storyboard.TargetName="grid"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="CheckStates">
                                <vsm:VisualState x:Name="Checked">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unchecked" />
                                <vsm:VisualState x:Name="Indeterminate">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="IndeterminateRectangle"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="FocusStates">
                                <vsm:VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Focus"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unfocused" />
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="16" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid x:Name="grid"
                              Width="16"
                              Height="16"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Top">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Border x:Name="Border"
                                    Grid.RowSpan="1"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1,1,1,1"
                                    CornerRadius="2,2,2,2" />
                            <Border x:Name="Shadow"
                                    Grid.RowSpan="1"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="2,2,2,2">
                                <Border.OpacityMask>
                                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                        <GradientStop Offset="0" Color="#59FFFFFF" />
                                        <GradientStop Offset="1" Color="#59FFFFFF" />
                                        <GradientStop Offset="0.393" Color="#00FFFFFF" />
                                        <GradientStop Offset="0.567" Color="#00FFFFFF" />
                                    </LinearGradientBrush>
                                </Border.OpacityMask>
                            </Border>
                            <Grid x:Name="Bullet"
                                  Grid.RowSpan="1"
                                  Margin="-0.25,-0.25,0,0"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  Opacity="0.8"
                                  RenderTransformOrigin="0.5,0.5"
                                  Visibility="Collapsed">
                                <Path Margin="1.75,1.49,1.94,1.427"
                                      VerticalAlignment="Stretch"
                                      Data="M1.6045539,4.9657478 L3.9166667,6.7270508 L8.7999792,0.13644244 L10.335848,1.2280303 L4.1581869,9.0391064 L0.39386681,6.6038928 z"
                                      Fill="{TemplateBinding Foreground}"
                                      Stretch="Fill"
                                      StrokeLineJoin="Miter"
                                      StrokeMiterLimit="10" />
                            </Grid>
                            <Rectangle x:Name="IndeterminateRectangle"
                                       Grid.RowSpan="2"
                                       Height="3"
                                       Margin="4,4,4,4"
                                       Fill="{StaticResource TextBrush}"
                                       RadiusX="1"
                                       RadiusY="1"
                                       Stroke="{x:Null}"
                                       StrokeThickness="0"
                                       Visibility="Collapsed" />
                            <Border x:Name="Focus"
                                    Margin="-3,-3,-2.75,-2.75"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1,1,1,1"
                                    CornerRadius="4,4,4,4"
                                    OpacityMask="{DynamicResource FocusMask}"
                                    Visibility="Collapsed" />
                        </Grid>
                        <ContentPresenter x:Name="contentPresenter"
                                          Grid.Column="1"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          RecognizesAccessKey="True" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="grid" Property="Opacity" Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  RadioButton  -->
    <Style TargetType="{x:Type RadioButton}">
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value="0.5,0.5,1.5,1.5" />
        <Setter Property="Padding" Value="4,1,0,0" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Top" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RadioButton}">
                    <Grid>
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="InnerBorder"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Background"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.6" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="1.5,1.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="contentPresenter"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.55" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Background"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.2" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="0.5,0.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                       Duration="00:00:00.0010000"
                                                                       Storyboard.TargetName="grid"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="CheckStates">
                                <vsm:VisualState x:Name="Checked">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Bullet"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unchecked" />
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="FocusStates">
                                <vsm:VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Focus"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unfocused" />
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="16" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid x:Name="grid"
                              Width="16"
                              Height="16">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Border x:Name="Background"
                                    Grid.RowSpan="1"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="0.5,0.5,1.5,1.5"
                                    CornerRadius="8"
                                    Opacity="1" />
                            <Border x:Name="InnerBorder"
                                    Grid.RowSpan="1"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="8,8,8,8">
                                <Border.OpacityMask>
                                    <RadialGradientBrush>
                                        <GradientStop Offset="0.223" Color="#00000000" />
                                        <GradientStop Offset="1" Color="#66FFFFFF" />
                                    </RadialGradientBrush>
                                </Border.OpacityMask>
                            </Border>
                            <Border x:Name="Focus"
                                    Grid.RowSpan="1"
                                    Margin="-3,-3,-2.75,-2.75"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1,1,1,1"
                                    CornerRadius="13,13,13,13"
                                    OpacityMask="{DynamicResource FocusMask}"
                                    Visibility="Collapsed" />
                            <Grid x:Name="Bullet"
                                  Width="8"
                                  Height="8"
                                  Margin="-0.25,-0.25,0,0"
                                  RenderTransformOrigin="0.5,0.5"
                                  Visibility="Collapsed">
                                <Grid.RenderTransform>
                                    <TransformGroup>
                                        <TranslateTransform />
                                    </TransformGroup>
                                </Grid.RenderTransform>
                                <Path Data="M4.0000014,5.9604645E-07 C2.8954322,5.364418E-07 2.0000014,0.89543074 2.0000014,2.0000005 C2.0000014,3.1045699 2.895432,4.0000005 4.0000014,4.0000005 C5.1045709,4.0000005 6.0000014,3.1045697 6.0000014,2.0000005 C6.0000014,0.89543092 5.1045709,5.364418E-07 4.0000014,5.9604645E-07 z M4,0 C6.2091379,0 8,1.7908604 8,4 C8,6.2091393 6.2091393,8 4,8 C1.7908604,8 0,6.2091379 0,4 C0,1.7908616 1.7908616,0 4,0 z"
                                      Fill="{TemplateBinding Foreground}"
                                      Stretch="Fill" />
                            </Grid>
                        </Grid>
                        <ContentPresenter x:Name="contentPresenter"
                                          Grid.Column="1"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          Content="{TemplateBinding Content}"
                                          IsEnabled="False"
                                          RecognizesAccessKey="True" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="grid" Property="Opacity" Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  Expander  -->
    <Style TargetType="{x:Type Expander}">
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Background" Value="{x:Null}" />
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <Setter Property="BorderBrush" Value="#00FFFFFF" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Expander}">
                    <ControlTemplate.Resources>
                        <ControlTemplate x:Key="ExpanderRightHeaderTemplate" TargetType="{x:Type ToggleButton}">
                            <Border Padding="{TemplateBinding Padding}">
                                <Grid Background="Transparent" SnapsToDevicePixels="False">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="19" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Grid>
                                        <Grid.LayoutTransform>
                                            <TransformGroup>
                                                <TransformGroup.Children>
                                                    <TransformCollection>
                                                        <RotateTransform Angle="-90" />
                                                    </TransformCollection>
                                                </TransformGroup.Children>
                                            </TransformGroup>
                                        </Grid.LayoutTransform>
                                        <Grid Width="16" Height="16">
                                            <Grid.LayoutTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="90" />
                                                </TransformGroup>
                                            </Grid.LayoutTransform>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Border x:Name="White"
                                                    Grid.RowSpan="1"
                                                    Width="16"
                                                    Height="16"
                                                    Margin="0,0,-1,-1"
                                                    BorderBrush="{DynamicResource SecondaryBrush}"
                                                    BorderThickness="0.75,0.75,1.25,1.25"
                                                    CornerRadius="8,8,8,8">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="-0.438,0.5" EndPoint="1.438,0.5">
                                                        <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                        <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                        <GradientStop Offset="0.018" Color="{DynamicResource PrimaryColor}" />
                                                        <GradientStop Offset="0.25" Color="{DynamicResource PrimaryColor}" />
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                        </Grid>
                                        <Path x:Name="arrow"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Data="M 1,1.5 L 4.5,5 L 8,1.5"
                                              RenderTransformOrigin="0.5,0.5"
                                              SnapsToDevicePixels="false"
                                              Stroke="{DynamicResource SecondaryBrush}"
                                              StrokeThickness="2">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <ScaleTransform ScaleX="1" ScaleY="-1" />
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Grid>
                                    <ContentPresenter Grid.Row="1"
                                                      Margin="0,4,0,0"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Top"
                                                      RecognizesAccessKey="True"
                                                      SnapsToDevicePixels="True" />
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="arrow" Property="RenderTransformOrigin" Value="0.5,0.5" />
                                    <Setter TargetName="arrow" Property="RenderTransform">
                                        <Setter.Value>
                                            <TransformGroup>
                                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                            </TransformGroup>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="-0.438,0.5" EndPoint="1.438,0.5">
                                                <GradientStop Offset="0.219" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.522" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.518" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="White" Property="BorderThickness" Value="1.5,1.5,0.5,0.5" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="-0.438,0.5" EndPoint="1.438,0.5">
                                                <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.018" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.594" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                        <ControlTemplate x:Key="ExpanderUpHeaderTemplate" TargetType="{x:Type ToggleButton}">
                            <Border Padding="{TemplateBinding Padding}">
                                <Grid Background="Transparent" SnapsToDevicePixels="False">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="19" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Width="16" Height="16">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>
                                        <Border x:Name="White"
                                                Grid.RowSpan="1"
                                                Width="16"
                                                Height="16"
                                                Margin="-1,-1,0,0"
                                                BorderBrush="{DynamicResource SecondaryBrush}"
                                                BorderThickness="1.25,1.25,0.75,0.75"
                                                CornerRadius="8,8,8,8">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0.5,1.508" EndPoint="0.5,-0.508">
                                                    <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                    <GradientStop Offset="0.299" Color="{DynamicResource PrimaryColor}" />
                                                    <GradientStop Offset="0.013" Color="{DynamicResource PrimaryColor}" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Path x:Name="arrow"
                                              Grid.RowSpan="1"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Data="M 1,1.5 L 4.5,5 L 8,1.5"
                                              RenderTransformOrigin="0.5,0.5"
                                              SnapsToDevicePixels="false"
                                              Stroke="{DynamicResource SecondaryBrush}"
                                              StrokeThickness="2">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Grid>
                                    <ContentPresenter Grid.Column="1"
                                                      Margin="4,0,0,0"
                                                      HorizontalAlignment="Left"
                                                      VerticalAlignment="Center"
                                                      RecognizesAccessKey="True"
                                                      SnapsToDevicePixels="True" />
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="arrow" Property="RenderTransform">
                                        <Setter.Value>
                                            <TransformGroup>
                                                <ScaleTransform ScaleX="1" ScaleY="-1" />
                                            </TransformGroup>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,1.508" EndPoint="0.5,-0.508">
                                                <GradientStop Offset="0.33" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.531" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.5" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="White" Property="BorderThickness" Value="1.5,1.5,0.5,0.5" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,1.508" EndPoint="0.5,-0.508">
                                                <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.647" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.013" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                        <ControlTemplate x:Key="ExpanderLeftHeaderTemplate" TargetType="{x:Type ToggleButton}">
                            <Border Padding="{TemplateBinding Padding}">
                                <Grid Background="Transparent" SnapsToDevicePixels="False">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="19" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Grid>
                                        <Grid.LayoutTransform>
                                            <TransformGroup>
                                                <TransformGroup.Children>
                                                    <TransformCollection>
                                                        <RotateTransform Angle="90" />
                                                    </TransformCollection>
                                                </TransformGroup.Children>
                                            </TransformGroup>
                                        </Grid.LayoutTransform>
                                        <Grid Width="16" Height="16">
                                            <Grid.LayoutTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="-90" />
                                                </TransformGroup>
                                            </Grid.LayoutTransform>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Border x:Name="White"
                                                    Grid.RowSpan="1"
                                                    Width="16"
                                                    Height="16"
                                                    Margin="0,0,-1,-1"
                                                    BorderBrush="{DynamicResource SecondaryBrush}"
                                                    BorderThickness="0.75,0.75,1.25,1.25"
                                                    CornerRadius="8,8,8,8">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="1.852,0.5" EndPoint="-0.852,0.5">
                                                        <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                        <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                        <GradientStop Offset="0.299" Color="{DynamicResource PrimaryColor}" />
                                                        <GradientStop Offset="0.013" Color="{DynamicResource PrimaryColor}" />
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                            <Path x:Name="arrow"
                                                  Grid.RowSpan="1"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  Data="M 1,1.5 L 4.5,5 L 8,1.5"
                                                  RenderTransformOrigin="0.5,0.5"
                                                  SnapsToDevicePixels="false"
                                                  Stroke="{DynamicResource SecondaryBrush}"
                                                  StrokeThickness="2">
                                                <Path.RenderTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform ScaleX="-1" ScaleY="1" />
                                                        <RotateTransform Angle="-90" />
                                                    </TransformGroup>
                                                </Path.RenderTransform>
                                            </Path>
                                        </Grid>
                                    </Grid>
                                    <ContentPresenter Grid.Row="1"
                                                      Margin="0,4,0,0"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Top"
                                                      RecognizesAccessKey="True"
                                                      SnapsToDevicePixels="True" />
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="true">
                                    <Setter TargetName="arrow" Property="Data" Value="M 1,4.5  L 4.5,1  L 8,4.5" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="1.852,0.5" EndPoint="-0.852,0.5">
                                                <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.562" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.013" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter TargetName="White" Property="BorderThickness" Value="1.5,1.5,0.5,0.5" />
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="1.852,0.5" EndPoint="-0.852,0.5">
                                                <GradientStop Offset="0.357" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.54" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.518" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                        <ControlTemplate x:Key="ExpanderDownHeaderTemplate" TargetType="{x:Type ToggleButton}">
                            <Border Padding="{TemplateBinding Padding}">
                                <Grid Background="Transparent" SnapsToDevicePixels="False">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="19" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Width="19"
                                          Height="19"
                                          HorizontalAlignment="Stretch"
                                          VerticalAlignment="Stretch">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>
                                        <Border x:Name="White"
                                                Grid.RowSpan="1"
                                                Width="16"
                                                Height="16"
                                                Margin="0,0,-1,-1"
                                                BorderBrush="{DynamicResource SecondaryBrush}"
                                                BorderThickness="0.75,0.75,1.25,1.25"
                                                CornerRadius="8,8,8,8">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0.5,-0.615" EndPoint="0.5,1.531">
                                                    <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                    <GradientStop Offset="0.013" Color="{DynamicResource PrimaryColor}" />
                                                    <GradientStop Offset="0.308" Color="{DynamicResource PrimaryColor}" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Path x:Name="arrow"
                                              Grid.RowSpan="1"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Data="M 1,1.5 L 4.5,5 L 8,1.5"
                                              RenderTransformOrigin="0.5,0.5"
                                              SnapsToDevicePixels="false"
                                              Stroke="{DynamicResource SecondaryBrush}"
                                              StrokeThickness="2">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <ScaleTransform ScaleX="1" ScaleY="-1" />
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Grid>
                                    <ContentPresenter Grid.Column="1"
                                                      Margin="4,0,0,0"
                                                      HorizontalAlignment="Left"
                                                      VerticalAlignment="Center"
                                                      RecognizesAccessKey="True"
                                                      SnapsToDevicePixels="True" />
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="arrow" Property="RenderTransformOrigin" Value="0.5,0.5" />
                                    <Setter TargetName="arrow" Property="RenderTransform">
                                        <Setter.Value>
                                            <TransformGroup>
                                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                            </TransformGroup>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="White" Property="BorderThickness" Value="1.5,1.5,0.5,0.5" />
                                    <Setter TargetName="arrow" Property="RenderTransform">
                                        <Setter.Value>
                                            <TransformGroup>
                                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                                <TranslateTransform X="0.5" Y="0.5" />
                                            </TransformGroup>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,-0.615" EndPoint="0.5,1.531">
                                                <GradientStop Offset="0.362" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.509" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.598" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="White" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,-0.615" EndPoint="0.5,1.531">
                                                <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.013" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.665" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter TargetName="White" Property="BorderThickness" Value="0.75,0.75,2,2" />
                                    <Setter TargetName="White" Property="Margin" Value="0,0,-1.25,-1.25" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </ControlTemplate.Resources>
                    <Border x:Name="border"
                            Background="#00A7A6A6"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3"
                            SnapsToDevicePixels="true">
                        <DockPanel>
                            <ToggleButton x:Name="HeaderSite"
                                          MinWidth="0"
                                          MinHeight="0"
                                          Margin="1"
                                          HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                          Background="#FF000000"
                                          BorderBrush="{TemplateBinding BorderBrush}"
                                          Content="{TemplateBinding Header}"
                                          ContentTemplate="{TemplateBinding HeaderTemplate}"
                                          ContentTemplateSelector="{TemplateBinding HeaderTemplateSelector}"
                                          DockPanel.Dock="Top"
                                          FontFamily="{TemplateBinding FontFamily}"
                                          FontSize="{TemplateBinding FontSize}"
                                          FontStretch="{TemplateBinding FontStretch}"
                                          FontStyle="{TemplateBinding FontStyle}"
                                          FontWeight="{TemplateBinding FontWeight}"
                                          Foreground="{TemplateBinding Foreground}"
                                          IsChecked="{Binding Path=IsExpanded,
                                                              Mode=TwoWay,
                                                              RelativeSource={RelativeSource TemplatedParent}}"
                                          Opacity="1"
                                          Padding="{TemplateBinding Padding}"
                                          Template="{StaticResource ExpanderDownHeaderTemplate}" />
                            <ContentPresenter x:Name="ExpandSite"
                                              Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              Focusable="false"
                                              Visibility="Collapsed" />
                        </DockPanel>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsExpanded" Value="true">
                            <Setter TargetName="ExpandSite" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="ExpandDirection" Value="Right">
                            <Setter TargetName="ExpandSite" Property="DockPanel.Dock" Value="Right" />
                            <Setter TargetName="HeaderSite" Property="DockPanel.Dock" Value="Left" />
                            <Setter TargetName="HeaderSite" Property="Template" Value="{StaticResource ExpanderRightHeaderTemplate}" />
                        </Trigger>
                        <Trigger Property="ExpandDirection" Value="Up">
                            <Setter TargetName="ExpandSite" Property="DockPanel.Dock" Value="Top" />
                            <Setter TargetName="HeaderSite" Property="DockPanel.Dock" Value="Bottom" />
                            <Setter TargetName="HeaderSite" Property="Template" Value="{StaticResource ExpanderUpHeaderTemplate}" />
                        </Trigger>
                        <Trigger Property="ExpandDirection" Value="Left">
                            <Setter TargetName="ExpandSite" Property="DockPanel.Dock" Value="Left" />
                            <Setter TargetName="HeaderSite" Property="DockPanel.Dock" Value="Right" />
                            <Setter TargetName="HeaderSite" Property="Template" Value="{StaticResource ExpanderLeftHeaderTemplate}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="ExpandSite" Property="Opacity" Value="0.5" />
                            <Setter TargetName="HeaderSite" Property="Opacity" Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  TextBox  -->
    <Style TargetType="{x:Type TextBox}">
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value="1,1.5,0.5,0.5" />
        <Setter Property="Padding" Value="1" />
        <Setter Property="AllowDrop" Value="true" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="MinWidth" Value="0" />
        <Setter Property="MinHeight" Value="0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TextBox}">
                    <Grid>
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="InnerShadow"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="PART_ContentHost"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.35" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="White"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="0.5,0.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="InnerShadow"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.65" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="ReadOnly" />
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="FocusedStates">
                                <vsm:VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="White"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="1.75,2,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="border"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unfocused" />
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Border x:Name="White"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1,1.5,0.5,0.5"
                                CornerRadius="4,4,4,4" />
                        <Grid x:Name="InnerShadow">
                            <Border x:Name="BottomShadow"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="4,4,4,4"
                                    OpacityMask="{DynamicResource BoxBottomShadowMask}" />
                            <Border x:Name="Halo"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="4,4,4,4"
                                    OpacityMask="{DynamicResource HaloMask}" />
                        </Grid>
                        <ScrollViewer x:Name="PART_ContentHost" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Border x:Name="border"
                                Margin="-3,-3,-3,-3"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1,1,1,1"
                                CornerRadius="7,7,7,7"
                                OpacityMask="{DynamicResource FocusMask}"
                                Visibility="Collapsed" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="White" Property="BorderThickness" Value="0.5,0.5,0.5,0.5" />
                            <Setter TargetName="InnerShadow" Property="Opacity" Value="0.65" />
                            <Setter TargetName="PART_ContentHost" Property="Opacity" Value="0.35" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  PasswordBox  -->
    <Style TargetType="{x:Type PasswordBox}">
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="FontFamily" Value="Times New Roman" />
        <Setter Property="PasswordChar" Value="●" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="KeyboardNavigation.TabNavigation" Value="None" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="Padding" Value="1" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="AllowDrop" Value="true" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type PasswordBox}">
                    <Grid>
                        <Border x:Name="Background"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1,1,1,1"
                                CornerRadius="4,4,4,4" />
                        <Grid x:Name="grid">
                            <Border x:Name="BottomShadow"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="4,4,4,4"
                                    OpacityMask="{DynamicResource BoxBottomShadowMask}" />
                            <Border x:Name="Halo"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="4,4,4,4"
                                    OpacityMask="{DynamicResource HaloMask}" />
                        </Grid>
                        <ScrollViewer x:Name="PART_ContentHost" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Border x:Name="Focus"
                                Margin="-3,-3,-3,-3"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1,1,1,1"
                                CornerRadius="7,7,7,7"
                                OpacityMask="{DynamicResource FocusMask}"
                                Visibility="Collapsed" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="grid" Property="Opacity" Value="0.5" />
                        </Trigger>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="Background" Property="BorderThickness" Value="1.75,2,0.5,0.5" />
                            <Setter TargetName="Focus" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Background" Property="BorderThickness" Value="0.5,0.5,0.5,0.5" />
                            <Setter TargetName="grid" Property="Opacity" Value="0.65" />
                            <Setter TargetName="PART_ContentHost" Property="Opacity" Value="0.35" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  RichTextBox  -->
    <Style TargetType="{x:Type RichTextBox}">
        <Style.Resources>
            <Style x:Key="{x:Type FlowDocument}" TargetType="{x:Type FlowDocument}">
                <Setter Property="OverridesDefaultStyle" Value="true" />
            </Style>
        </Style.Resources>
        <Setter Property="MinWidth" Value="10" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="1" />
        <Setter Property="AllowDrop" Value="true" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TextBoxBase}">
                    <Grid>
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="grid"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="PART_ContentHost"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="grid"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.65" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="0.5,0.5,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="ReadOnly" />
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="FocusedStates">
                                <vsm:VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                          Storyboard.TargetName="Background"
                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                            <SplineThicknessKeyFrame KeyTime="0" Value="1.75,2,0.5,0.5" />
                                        </ThicknessAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Focus"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="UnFocused" />
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Border x:Name="Background"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1,1.5,0.5,0.5"
                                CornerRadius="4,4,4,4" />
                        <Grid x:Name="grid">
                            <Border x:Name="Shadow"
                                    Margin="0,0,0,0"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="4,4,4,4"
                                    OpacityMask="{DynamicResource BoxBottomShadowMask}" />
                            <Border x:Name="Halo"
                                    Margin="0,0,0,0"
                                    Background="{TemplateBinding BorderBrush}"
                                    CornerRadius="4,4,4,4"
                                    OpacityMask="{DynamicResource HaloMask}" />
                        </Grid>
                        <ScrollViewer x:Name="PART_ContentHost" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Border x:Name="Focus"
                                Margin="-3,-3,-3,-3"
                                BorderBrush="{DynamicResource SecondaryBrush}"
                                BorderThickness="1,1,1,1"
                                CornerRadius="7,7,7,7"
                                OpacityMask="{DynamicResource FocusMask}"
                                Visibility="Collapsed" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  Thumb  -->
    <Style TargetType="{x:Type Thumb}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Foreground" Value="#FF000000" />
        <Setter Property="Background" Value="#FF1F3B53" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid x:Name="grid" Margin="1,0,3,2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Border x:Name="Background"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="0.5,0.5,1.5,1.5"
                                CornerRadius="8,8,8,8"
                                Opacity="1">
                            <Border.Background>
                                <RadialGradientBrush>
                                    <RadialGradientBrush.RelativeTransform>
                                        <TransformGroup>
                                            <ScaleTransform CenterX="0.5"
                                                            CenterY="0.5"
                                                            ScaleX="1.714"
                                                            ScaleY="2.148" />
                                        </TransformGroup>
                                    </RadialGradientBrush.RelativeTransform>
                                    <GradientStop Offset="0.121" Color="{DynamicResource PrimaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                </RadialGradientBrush>
                            </Border.Background>
                        </Border>
                        <Border x:Name="DisableEllipse"
                                Background="white"
                                CornerRadius="8,8,8,8"
                                Opacity="0" />
                        <Border x:Name="HasFocus"
                                Margin="-2,-2,-2,-2"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="13"
                                OpacityMask="{StaticResource FocusMask}"
                                Visibility="Collapsed" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="Background" Property="BorderThickness" Value="1,1,1,1" />
                            <Setter TargetName="Background" Property="Background">
                                <Setter.Value>
                                    <RadialGradientBrush>
                                        <RadialGradientBrush.RelativeTransform>
                                            <TransformGroup>
                                                <ScaleTransform CenterX="0.5"
                                                                CenterY="0.5"
                                                                ScaleX="1.531"
                                                                ScaleY="1.918" />
                                                <TranslateTransform X="-0.037" Y="-0.04" />
                                            </TransformGroup>
                                        </RadialGradientBrush.RelativeTransform>
                                        <GradientStop Offset="0.121" Color="{DynamicResource PrimaryColor}" />
                                        <GradientStop Offset="0.491" Color="{DynamicResource SecondaryColor}" />
                                    </RadialGradientBrush>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="HasFocus" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="true">
                            <Setter TargetName="Background" Property="Opacity" Value="1" />
                            <Setter TargetName="Background" Property="Background">
                                <Setter.Value>
                                    <RadialGradientBrush>
                                        <RadialGradientBrush.RelativeTransform>
                                            <TransformGroup>
                                                <ScaleTransform CenterX="0.5"
                                                                CenterY="0.5"
                                                                ScaleX="1.531"
                                                                ScaleY="1.918" />
                                                <TranslateTransform X="-0.037" Y="-0.04" />
                                            </TransformGroup>
                                        </RadialGradientBrush.RelativeTransform>
                                        <GradientStop Offset="0.397" Color="{DynamicResource PrimaryColor}" />
                                        <GradientStop Offset="0.674" Color="{DynamicResource SecondaryColor}" />
                                    </RadialGradientBrush>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsDragging" Value="true">
                            <Setter TargetName="Background" Property="Background">
                                <Setter.Value>
                                    <RadialGradientBrush>
                                        <RadialGradientBrush.RelativeTransform>
                                            <TransformGroup>
                                                <ScaleTransform CenterX="0.5"
                                                                CenterY="0.5"
                                                                ScaleX="1.531"
                                                                ScaleY="1.918" />
                                                <TranslateTransform X="-0.037" Y="-0.04" />
                                            </TransformGroup>
                                        </RadialGradientBrush.RelativeTransform>
                                        <GradientStop Offset="0.362" Color="{DynamicResource PrimaryColor}" />
                                        <GradientStop Offset="0.54" Color="{DynamicResource SecondaryColor}" />
                                    </RadialGradientBrush>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="Background" Property="BorderThickness" Value="1.75,1.75,0.5,0.5" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="DisableEllipse" Property="Opacity" Value="0.65" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Focusable" Value="True" />
    </Style>

    <!--  Slider  -->
    <Style TargetType="{x:Type Slider}">
        <Style.Resources>
            <Style x:Key="SliderRepeatButtonStyle" TargetType="{x:Type RepeatButton}">
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Focusable" Value="false" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                            <Rectangle Fill="Transparent" />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </Style.Resources>
        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="#FFC4C4C4" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Slider}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            SnapsToDevicePixels="true">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <TickBar x:Name="TopTick"
                                     Height="4"
                                     Fill="{TemplateBinding Foreground}"
                                     Placement="Top"
                                     Visibility="Collapsed" />
                            <Border x:Name="TrackBackground"
                                    Grid.Row="1"
                                    Height="4.0"
                                    Margin="5,0"
                                    VerticalAlignment="center"
                                    Background="{DynamicResource SecondaryBrush}"
                                    BorderBrush="{x:Null}"
                                    BorderThickness="1"
                                    CornerRadius="1">
                                <Canvas Margin="-6,-1">
                                    <Rectangle x:Name="PART_SelectionRange"
                                               Height="4.0"
                                               StrokeThickness="1.0"
                                               Visibility="Hidden" />
                                </Canvas>
                            </Border>
                            <Track x:Name="PART_Track" Grid.Row="1">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Style="{StaticResource SliderRepeatButtonStyle}" />
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource SliderRepeatButtonStyle}" />
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb"
                                           Width="18"
                                           Height="18" />
                                </Track.Thumb>
                            </Track>
                            <TickBar x:Name="BottomTick"
                                     Grid.Row="2"
                                     Height="4"
                                     Fill="{TemplateBinding Foreground}"
                                     Placement="Bottom"
                                     Visibility="Collapsed" />
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="TickPlacement" Value="TopLeft">
                            <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="TickPlacement" Value="BottomRight">
                            <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="TickPlacement" Value="Both">
                            <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                            <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsSelectionRangeEnabled" Value="true">
                            <Setter TargetName="PART_SelectionRange" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="true">
                            <Setter TargetName="Thumb" Property="Foreground" Value="Blue" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="Orientation" Value="Vertical">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type Slider}">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    SnapsToDevicePixels="true">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" MinWidth="{TemplateBinding MinWidth}" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TickBar x:Name="TopTick"
                                             Width="4"
                                             Fill="{TemplateBinding Foreground}"
                                             Placement="Left"
                                             Visibility="Collapsed" />
                                    <Border x:Name="TrackBackground"
                                            Grid.Column="1"
                                            Width="4.0"
                                            Margin="0,5"
                                            HorizontalAlignment="center"
                                            Background="{DynamicResource SecondaryBrush}"
                                            BorderBrush="{x:Null}"
                                            BorderThickness="1"
                                            CornerRadius="1">
                                        <Canvas Margin="-1,-6">
                                            <Rectangle x:Name="PART_SelectionRange"
                                                       Width="4.0"
                                                       StrokeThickness="1.0"
                                                       Visibility="Hidden" />
                                        </Canvas>
                                    </Border>
                                    <Track x:Name="PART_Track" Grid.Column="1">
                                        <Track.DecreaseRepeatButton>
                                            <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Style="{StaticResource SliderRepeatButtonStyle}" />
                                        </Track.DecreaseRepeatButton>
                                        <Track.IncreaseRepeatButton>
                                            <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource SliderRepeatButtonStyle}" />
                                        </Track.IncreaseRepeatButton>
                                        <Track.Thumb>
                                            <Thumb x:Name="Thumb"
                                                   Width="18"
                                                   Height="18"
                                                   RenderTransformOrigin="0.5,0.5" />
                                        </Track.Thumb>
                                    </Track>
                                    <TickBar x:Name="BottomTick"
                                             Grid.Column="2"
                                             Width="4"
                                             Fill="{TemplateBinding Foreground}"
                                             Placement="Right"
                                             Visibility="Collapsed" />
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="TickPlacement" Value="TopLeft">
                                    <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                                </Trigger>
                                <Trigger Property="TickPlacement" Value="BottomRight">
                                    <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                                </Trigger>
                                <Trigger Property="TickPlacement" Value="Both">
                                    <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                                    <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                                </Trigger>
                                <Trigger Property="IsSelectionRangeEnabled" Value="true">
                                    <Setter TargetName="PART_SelectionRange" Property="Visibility" Value="Visible" />
                                </Trigger>
                                <Trigger Property="IsKeyboardFocused" Value="true">
                                    <Setter TargetName="Thumb" Property="Foreground" Value="Blue" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!--  ScrollBar  -->
    <Style TargetType="{x:Type ScrollBar}">
        <Style.Resources>
            <Style x:Key="ScrollBarButton" TargetType="{x:Type RepeatButton}">
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="Focusable" Value="false" />
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                <Setter Property="Background" Value="#00000000" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                            <Border Background="{TemplateBinding Background}">
                                <Path Width="8"
                                      Height="4"
                                      Data="M3.9375,0.5 L7.5,3.5 0.5,3.5 z"
                                      Fill="{TemplateBinding Foreground}"
                                      Stretch="Fill"
                                      Stroke="{x:Null}" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ScrollBarPageButton" TargetType="{x:Type RepeatButton}">
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Focusable" Value="false" />
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                            <Rectangle Width="{TemplateBinding Width}"
                                       Height="{TemplateBinding Height}"
                                       Fill="{TemplateBinding Background}" />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ScrollBarThumb" TargetType="{x:Type Thumb}">
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type Thumb}">
                            <Grid x:Name="grid">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Rectangle x:Name="Background"
                                           Grid.RowSpan="1"
                                           Stroke="{DynamicResource SecondaryBrush}"
                                           StrokeThickness="0.5">
                                    <Rectangle.Fill>
                                        <LinearGradientBrush StartPoint="0.004,0.5" EndPoint="1.629,0.503">
                                            <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                            <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                        </LinearGradientBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                                <Rectangle x:Name="Disable"
                                           Grid.RowSpan="1"
                                           Stroke="{x:Null}"
                                           Visibility="Collapsed">
                                    <Rectangle.Fill>
                                        <SolidColorBrush Color="{DynamicResource DisabledColor}" />
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsDragging" Value="True">
                                    <Setter TargetName="Background" Property="Fill">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.004,0.5" EndPoint="1.629,0.503">
                                                <GradientStop Offset="0.21" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="Disable" Property="Visibility" Value="Visible" />
                                </Trigger>
                                <Trigger SourceName="Background" Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Background" Property="Fill">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.004,0.5" EndPoint="1.629,0.503">
                                                <GradientStop Offset="0.625" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </Style.Resources>
        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false" />
        <Setter Property="Stylus.IsFlicksEnabled" Value="false" />
        <Setter Property="Foreground" Value="#FF000000" />
        <Setter Property="Width" Value="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
        <Setter Property="MinWidth" Value="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollBar}">
                    <Grid x:Name="Bg" SnapsToDevicePixels="true">
                        <Grid.RowDefinitions>
                            <RowDefinition MaxHeight="{DynamicResource {x:Static SystemParameters.VerticalScrollBarButtonHeightKey}}" />
                            <RowDefinition Height="*" />
                            <RowDefinition MaxHeight="{DynamicResource {x:Static SystemParameters.VerticalScrollBarButtonHeightKey}}" />
                        </Grid.RowDefinitions>
                        <Border Grid.RowSpan="3"
                                BorderBrush="{DynamicResource SecondaryBrush}"
                                BorderThickness="0.5,0.5,1.5,1.5"
                                CornerRadius="8,8,8,8">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="-0.087,0.476" EndPoint="1.046,0.517">
                                    <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                    <GradientStop Offset="1" Color="#FFFFF7EC" />
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <RepeatButton Command="{x:Static ScrollBar.LineUpCommand}"
                                      IsEnabled="{TemplateBinding IsMouseOver}"
                                      Style="{StaticResource ScrollBarButton}" />
                        <Border x:Name="DisableLayer"
                                Grid.RowSpan="3"
                                BorderBrush="{DynamicResource SecondaryBrush}"
                                CornerRadius="8,8,8,8"
                                Visibility="Collapsed">
                            <Border.Background>
                                <SolidColorBrush Color="{DynamicResource DisabledColor}" />
                            </Border.Background>
                        </Border>
                        <Track x:Name="PART_Track"
                               Grid.Row="1"
                               IsDirectionReversed="true"
                               IsEnabled="{TemplateBinding IsMouseOver}">
                            <Track.DecreaseRepeatButton>
                                <RepeatButton Background="{DynamicResource SecondaryBrush}"
                                              Command="{x:Static ScrollBar.PageUpCommand}"
                                              Style="{StaticResource ScrollBarPageButton}">
                                    <RepeatButton.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,0.96" EndPoint="0.5,0.105">
                                            <GradientStop Offset="0" Color="#A5FFFFFF" />
                                            <GradientStop Offset="1" Color="#00FFFFFF" />
                                            <GradientStop Offset="0.339" Color="#59FFFFFF" />
                                        </LinearGradientBrush>
                                    </RepeatButton.OpacityMask>
                                </RepeatButton>
                            </Track.DecreaseRepeatButton>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton Background="{DynamicResource SecondaryBrush}"
                                              Command="{x:Static ScrollBar.PageDownCommand}"
                                              Style="{StaticResource ScrollBarPageButton}">
                                    <RepeatButton.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                            <GradientStop Offset="0" Color="#A5000000" />
                                            <GradientStop Offset="1" Color="#00FFFFFF" />
                                            <GradientStop Offset="0.232" Color="#592F2F2F" />
                                        </LinearGradientBrush>
                                    </RepeatButton.OpacityMask>
                                </RepeatButton>
                            </Track.IncreaseRepeatButton>
                            <Track.Thumb>
                                <Thumb x:Name="thumb"
                                       Margin="0,0,0.5,0"
                                       BorderThickness="1,1,1,1"
                                       Style="{StaticResource ScrollBarThumb}" />
                            </Track.Thumb>
                        </Track>
                        <RepeatButton Grid.Row="2"
                                      Command="{x:Static ScrollBar.LineDownCommand}"
                                      IsEnabled="{TemplateBinding IsMouseOver}"
                                      RenderTransformOrigin="0.5,0.5"
                                      Style="{StaticResource ScrollBarButton}">
                            <RepeatButton.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="1" ScaleY="-1" />
                                </TransformGroup>
                            </RepeatButton.RenderTransform>
                        </RepeatButton>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="DisableLayer" Property="Visibility" Value="Visible" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Style.Triggers>
            <Trigger Property="Orientation" Value="Horizontal">
                <Setter Property="MinWidth" Value="0" />
                <Setter Property="Height" Value="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarHeightKey}}" />
                <Setter Property="MinHeight" Value="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarHeightKey}}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ScrollBar}">
                            <Grid x:Name="Bg" SnapsToDevicePixels="true">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition MaxWidth="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}}" />
                                    <ColumnDefinition Width="0.00001*" />
                                    <ColumnDefinition MaxWidth="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}}" />
                                </Grid.ColumnDefinitions>
                                <Border Grid.RowSpan="1"
                                        Grid.ColumnSpan="3"
                                        BorderThickness="0.5,0.5,1.5,1.5"
                                        CornerRadius="8,8,8,8">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                            <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                            <GradientStop Offset="1" Color="#FFFFF7EC" />
                                        </LinearGradientBrush>
                                    </Border.Background>
                                </Border>
                                <RepeatButton Command="{x:Static ScrollBar.LineLeftCommand}"
                                              IsEnabled="{TemplateBinding IsMouseOver}"
                                              Style="{StaticResource ScrollBarButton}">
                                    <RepeatButton.LayoutTransform>
                                        <TransformGroup>
                                            <RotateTransform Angle="-90" />
                                        </TransformGroup>
                                    </RepeatButton.LayoutTransform>
                                </RepeatButton>
                                <Border x:Name="DisableLayer"
                                        Grid.ColumnSpan="3"
                                        CornerRadius="8,8,8,8"
                                        Visibility="Collapsed">
                                    <Border.Background>
                                        <SolidColorBrush Color="{DynamicResource DisabledColor}" />
                                    </Border.Background>
                                </Border>
                                <Track x:Name="PART_Track"
                                       Grid.Column="1"
                                       IsEnabled="{TemplateBinding IsMouseOver}">
                                    <Track.DecreaseRepeatButton>
                                        <RepeatButton Background="{DynamicResource SecondaryBrush}"
                                                      Command="{x:Static ScrollBar.PageLeftCommand}"
                                                      Style="{StaticResource ScrollBarPageButton}">
                                            <RepeatButton.OpacityMask>
                                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                    <GradientStop Offset="0" Color="#A5000000" />
                                                    <GradientStop Offset="1" Color="#00FFFFFF" />
                                                    <GradientStop Offset="0.254" Color="#593A3A3A" />
                                                </LinearGradientBrush>
                                            </RepeatButton.OpacityMask>
                                        </RepeatButton>
                                    </Track.DecreaseRepeatButton>
                                    <Track.IncreaseRepeatButton>
                                        <RepeatButton Background="{DynamicResource SecondaryBrush}"
                                                      Command="{x:Static ScrollBar.PageRightCommand}"
                                                      Style="{StaticResource ScrollBarPageButton}">
                                            <RepeatButton.OpacityMask>
                                                <LinearGradientBrush StartPoint="0.5,1" EndPoint="0.5,0">
                                                    <GradientStop Offset="0" Color="#A5000000" />
                                                    <GradientStop Offset="1" Color="#00FFFFFF" />
                                                    <GradientStop Offset="0.304" Color="#595C5C5C" />
                                                </LinearGradientBrush>
                                            </RepeatButton.OpacityMask>
                                        </RepeatButton>
                                    </Track.IncreaseRepeatButton>
                                    <Track.Thumb>
                                        <Thumb Style="{StaticResource ScrollBarThumb}" />
                                    </Track.Thumb>
                                </Track>
                                <RepeatButton Grid.Column="2"
                                              Command="{x:Static ScrollBar.LineRightCommand}"
                                              IsEnabled="{TemplateBinding IsMouseOver}"
                                              Style="{StaticResource ScrollBarButton}">
                                    <RepeatButton.LayoutTransform>
                                        <TransformGroup>
                                            <RotateTransform Angle="90" />
                                        </TransformGroup>
                                    </RepeatButton.LayoutTransform>
                                </RepeatButton>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="DisableLayer" Property="Visibility" Value="Visible" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Width" Value="Auto" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <!--  ScrollViewer  -->
    <Style TargetType="{x:Type ScrollViewer}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollViewer}">
                    <Grid x:Name="Grid" Background="{TemplateBinding Background}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <ScrollContentPresenter x:Name="PART_ScrollContentPresenter"
                                                Grid.Row="0"
                                                Grid.Column="0"
                                                Margin="{TemplateBinding Padding}"
                                                CanContentScroll="{TemplateBinding CanContentScroll}"
                                                CanHorizontallyScroll="False"
                                                CanVerticallyScroll="False"
                                                Content="{TemplateBinding Content}"
                                                ContentTemplate="{TemplateBinding ContentTemplate}" />
                        <ScrollBar x:Name="PART_VerticalScrollBar"
                                   Grid.Row="0"
                                   Grid.Column="1"
                                   AutomationProperties.AutomationId="VerticalScrollBar"
                                   Cursor="Arrow"
                                   Maximum="{TemplateBinding ScrollableHeight}"
                                   Minimum="0"
                                   ViewportSize="{TemplateBinding ViewportHeight}"
                                   Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                                   Value="{Binding Path=VerticalOffset,
                                                   Mode=OneWay,
                                                   RelativeSource={RelativeSource TemplatedParent}}" />
                        <ScrollBar x:Name="PART_HorizontalScrollBar"
                                   Grid.Row="1"
                                   Grid.Column="0"
                                   AutomationProperties.AutomationId="HorizontalScrollBar"
                                   Cursor="Arrow"
                                   Maximum="{TemplateBinding ScrollableWidth}"
                                   Minimum="0"
                                   Orientation="Horizontal"
                                   ViewportSize="{TemplateBinding ViewportWidth}"
                                   Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                                   Value="{Binding Path=HorizontalOffset,
                                                   Mode=OneWay,
                                                   RelativeSource={RelativeSource TemplatedParent}}" />
                        <Rectangle x:Name="Corner"
                                   Grid.Row="1"
                                   Grid.Column="1"
                                   Fill="{TemplateBinding Background}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Background" Value="#00FFFFFF" />
    </Style>

    <!--  FlowDocumentScrollViewer  -->
    <Style TargetType="{x:Type FlowDocumentScrollViewer}">
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <Setter Property="KeyboardNavigation.TabNavigation" Value="Local" />
        <Setter Property="BorderBrush">
            <Setter.Value>
                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                    <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
        <Setter Property="BorderThickness" Value="1,1,1,1" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type FlowDocumentScrollViewer}">
                    <Grid Uid="Grid_26" Language="en-us">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Border Uid="Border_49"
                                Margin="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4,4,4,4">
                            <ScrollViewer Uid="ScrollViewer_8"
                                          x:Name="PART_ContentHost"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          CanContentScroll="True" />
                        </Border>
                        <Border Uid="Border_51"
                                x:Name="PART_ToolBarHost"
                                Grid.Row="1"
                                Background="{TemplateBinding Background}">
                            <Grid Uid="Grid_34">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Border Uid="Border_61"
                                        x:Name="PART_FindToolBarHost"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Visibility="Collapsed" />
                                <Grid Uid="Grid_27"
                                      Grid.Column="1"
                                      HorizontalAlignment="Right"
                                      VerticalAlignment="Center">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <RepeatButton Uid="RepeatButton_7"
                                                  Width="{TemplateBinding FontSize}"
                                                  Height="{TemplateBinding FontSize}"
                                                  BorderBrush="{TemplateBinding BorderBrush}"
                                                  Command="NavigationCommands.DecreaseZoom"
                                                  Foreground="{TemplateBinding Foreground}"
                                                  IsEnabled="{TemplateBinding CanDecreaseZoom}"
                                                  ToolTip="Decrease Zoom">
                                        <RepeatButton.Style>
                                            <Style TargetType="{x:Type RepeatButton}">
                                                <Setter Property="Padding" Value="2,2,0,2" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                            <Border Uid="Border_41"
                                                                    Background="#00FFFFFF"
                                                                    Padding="{Binding Path=Padding,
                                                                                      RelativeSource={RelativeSource TemplatedParent}}">
                                                                <Viewbox Uid="Viewbox_2"
                                                                         x:Name="Content"
                                                                         RenderTransformOrigin="0.5,0.5">
                                                                    <Grid Uid="Canvas_4"
                                                                          Width="32"
                                                                          Height="32">
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="*" />
                                                                        </Grid.RowDefinitions>
                                                                        <Border x:Name="border"
                                                                                Grid.RowSpan="1"
                                                                                BorderBrush="{DynamicResource SecondaryBrush}"
                                                                                BorderThickness="1.5,1.5,0.5,0.5"
                                                                                CornerRadius="16,16,16,16">
                                                                            <Border.Background>
                                                                                <RadialGradientBrush>
                                                                                    <RadialGradientBrush.RelativeTransform>
                                                                                        <TransformGroup>
                                                                                            <ScaleTransform CenterX="0.5"
                                                                                                            CenterY="0.5"
                                                                                                            ScaleX="1.788"
                                                                                                            ScaleY="1.788" />
                                                                                        </TransformGroup>
                                                                                    </RadialGradientBrush.RelativeTransform>
                                                                                    <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                                                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                                                </RadialGradientBrush>
                                                                            </Border.Background>
                                                                        </Border>
                                                                        <Path Uid="Path_9"
                                                                              Margin="0,15.993,6,13.507"
                                                                              HorizontalAlignment="Right"
                                                                              VerticalAlignment="Stretch"
                                                                              Stroke="{DynamicResource SecondaryBrush}"
                                                                              StrokeThickness="3">
                                                                            <Path.Data>
                                                                                <LineGeometry StartPoint="-10,0" EndPoint="10,0" />
                                                                            </Path.Data>
                                                                        </Path>
                                                                    </Grid>
                                                                </Viewbox>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="border" Property="Background">
                                                                        <Setter.Value>
                                                                            <RadialGradientBrush>
                                                                                <RadialGradientBrush.RelativeTransform>
                                                                                    <TransformGroup>
                                                                                        <ScaleTransform CenterX="0.5"
                                                                                                        CenterY="0.5"
                                                                                                        ScaleX="1.788"
                                                                                                        ScaleY="1.788" />
                                                                                    </TransformGroup>
                                                                                </RadialGradientBrush.RelativeTransform>
                                                                                <GradientStop Offset="0.5" Color="{DynamicResource PrimaryColor}" />
                                                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                                            </RadialGradientBrush>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                        <Setter.Value>
                                                                            <ScaleTransform ScaleX="1" ScaleY="1" />
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Setter TargetName="border" Property="Background">
                                                                        <Setter.Value>
                                                                            <RadialGradientBrush>
                                                                                <RadialGradientBrush.RelativeTransform>
                                                                                    <TransformGroup>
                                                                                        <ScaleTransform CenterX="0.5"
                                                                                                        CenterY="0.5"
                                                                                                        ScaleX="1.788"
                                                                                                        ScaleY="1.788" />
                                                                                    </TransformGroup>
                                                                                </RadialGradientBrush.RelativeTransform>
                                                                                <GradientStop Offset="0.362" Color="{DynamicResource PrimaryColor}" />
                                                                                <GradientStop Offset="0.741" Color="{DynamicResource SecondaryColor}" />
                                                                            </RadialGradientBrush>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Setter TargetName="border" Property="BorderThickness" Value="0.5,0.5,1.75,1.75" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
                                                <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                                                <Setter Property="Opacity" Value="1" />
                                                <Style.BasedOn>
                                                    <Style TargetType="{x:Type RepeatButton}">
                                                        <Setter Property="Padding" Value="5,5,5,5" />
                                                        <Setter Property="Delay" Value="1000" />
                                                        <Setter Property="Interval" Value="250" />
                                                        <Style.BasedOn>
                                                            <Style TargetType="{x:Type ButtonBase}">
                                                                <Setter Property="Focusable" Value="False" />
                                                                <Setter Property="Opacity" Value="0.5" />
                                                                <Setter Property="Cursor" Value="Hand" />
                                                                <Setter Property="Background" Value="#00FFFFFF" />
                                                                <Setter Property="Padding" Value="3,1,3,1" />
                                                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                                                <Setter Property="BorderThickness" Value="0,0,0,0" />
                                                                <Setter Property="MinWidth" Value="0" />
                                                                <Setter Property="MinHeight" Value="0" />
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                            <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                                <ContentPresenter Uid="ContentPresenter_2"
                                                                                                  x:Name="Content"
                                                                                                  Content="{TemplateBinding Content}"
                                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                                            </Border>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                                        <Setter.Value>
                                                                                            <ScaleTransform ScaleX="1.1" ScaleY="1.1" />
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Trigger>
                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                                        <Setter.Value>
                                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                        <Setter Property="Opacity" Value="0.3" />
                                                                    </Trigger>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Opacity" Value="1" />
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Style.BasedOn>
                                                    </Style>
                                                </Style.BasedOn>
                                            </Style>
                                        </RepeatButton.Style>
                                        <RepeatButton.LayoutTransform>
                                            <ScaleTransform ScaleX="2.2" ScaleY="2.2" />
                                        </RepeatButton.LayoutTransform>
                                    </RepeatButton>
                                    <Slider Uid="Slider_2"
                                            Grid.Column="1"
                                            MinWidth="50"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Center"
                                            FontSize="{TemplateBinding FontSize}"
                                            LargeChange="{TemplateBinding ZoomIncrement}"
                                            Maximum="{TemplateBinding MaxZoom}"
                                            Minimum="{TemplateBinding MinZoom}"
                                            SmallChange="{TemplateBinding ZoomIncrement}"
                                            TickFrequency="{TemplateBinding ZoomIncrement}"
                                            Value="{Binding Path=Zoom,
                                                            Mode=TwoWay,
                                                            RelativeSource={RelativeSource TemplatedParent}}" />
                                    <RepeatButton Uid="RepeatButton_8"
                                                  Grid.Column="2"
                                                  Width="{TemplateBinding FontSize}"
                                                  Height="{TemplateBinding FontSize}"
                                                  BorderBrush="{TemplateBinding BorderBrush}"
                                                  Command="NavigationCommands.IncreaseZoom"
                                                  Foreground="{TemplateBinding Foreground}"
                                                  IsEnabled="{TemplateBinding CanIncreaseZoom}"
                                                  ToolTip="Increase Zoom">
                                        <RepeatButton.Style>
                                            <Style TargetType="{x:Type RepeatButton}">
                                                <Setter Property="Padding" Value="2,2,0,2" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                            <Border Uid="Border_41"
                                                                    Background="#00FFFFFF"
                                                                    Padding="{Binding Path=Padding,
                                                                                      RelativeSource={RelativeSource TemplatedParent}}">
                                                                <Viewbox Uid="Viewbox_2"
                                                                         x:Name="Content"
                                                                         RenderTransformOrigin="0.5,0.5">
                                                                    <Grid Uid="Canvas_4"
                                                                          Width="32"
                                                                          Height="32">
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="*" />
                                                                        </Grid.RowDefinitions>
                                                                        <Border x:Name="border"
                                                                                Grid.RowSpan="1"
                                                                                BorderBrush="{DynamicResource SecondaryBrush}"
                                                                                BorderThickness="1.75,1.75,0.5,0.5"
                                                                                CornerRadius="16,16,16,16">
                                                                            <Border.Background>
                                                                                <RadialGradientBrush>
                                                                                    <RadialGradientBrush.RelativeTransform>
                                                                                        <TransformGroup>
                                                                                            <ScaleTransform CenterX="0.5"
                                                                                                            CenterY="0.5"
                                                                                                            ScaleX="2.068"
                                                                                                            ScaleY="2.068" />
                                                                                        </TransformGroup>
                                                                                    </RadialGradientBrush.RelativeTransform>
                                                                                    <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                                                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                                                </RadialGradientBrush>
                                                                            </Border.Background>
                                                                        </Border>
                                                                        <Path Uid="Path_12"
                                                                              x:Name="path"
                                                                              Grid.RowSpan="1"
                                                                              Margin="0,15.872,6,6"
                                                                              HorizontalAlignment="Right"
                                                                              VerticalAlignment="Stretch"
                                                                              Stroke="{DynamicResource SecondaryBrush}"
                                                                              StrokeThickness="3">
                                                                            <Path.Data>
                                                                                <GeometryGroup>
                                                                                    <LineGeometry StartPoint="-10,0" EndPoint="10,0" />
                                                                                    <LineGeometry StartPoint="0,-10" EndPoint="0,10" />
                                                                                </GeometryGroup>
                                                                            </Path.Data>
                                                                        </Path>
                                                                    </Grid>
                                                                </Viewbox>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="border" Property="Background">
                                                                        <Setter.Value>
                                                                            <RadialGradientBrush>
                                                                                <RadialGradientBrush.RelativeTransform>
                                                                                    <TransformGroup>
                                                                                        <ScaleTransform CenterX="0.5"
                                                                                                        CenterY="0.5"
                                                                                                        ScaleX="2.068"
                                                                                                        ScaleY="2.068" />
                                                                                    </TransformGroup>
                                                                                </RadialGradientBrush.RelativeTransform>
                                                                                <GradientStop Offset="0.5" Color="{DynamicResource PrimaryColor}" />
                                                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                                            </RadialGradientBrush>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                        <Setter.Value>
                                                                            <ScaleTransform ScaleX="1" ScaleY="1" />
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Setter TargetName="border" Property="Background">
                                                                        <Setter.Value>
                                                                            <RadialGradientBrush>
                                                                                <RadialGradientBrush.RelativeTransform>
                                                                                    <TransformGroup>
                                                                                        <ScaleTransform CenterX="0.5"
                                                                                                        CenterY="0.5"
                                                                                                        ScaleX="2.068"
                                                                                                        ScaleY="2.068" />
                                                                                    </TransformGroup>
                                                                                </RadialGradientBrush.RelativeTransform>
                                                                                <GradientStop Offset="0.357" Color="{DynamicResource PrimaryColor}" />
                                                                                <GradientStop Offset="0.612" Color="{DynamicResource SecondaryColor}" />
                                                                            </RadialGradientBrush>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Setter TargetName="border" Property="BorderThickness" Value="0.5,0.5,1.75,1.75" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
                                                <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                                                <Setter Property="Opacity" Value="1" />
                                                <Style.BasedOn>
                                                    <Style TargetType="{x:Type RepeatButton}">
                                                        <Setter Property="Padding" Value="5,5,5,5" />
                                                        <Setter Property="Delay" Value="1000" />
                                                        <Setter Property="Interval" Value="250" />
                                                        <Style.BasedOn>
                                                            <Style TargetType="{x:Type ButtonBase}">
                                                                <Setter Property="Focusable" Value="False" />
                                                                <Setter Property="Opacity" Value="0.5" />
                                                                <Setter Property="Cursor" Value="Hand" />
                                                                <Setter Property="Background" Value="#00FFFFFF" />
                                                                <Setter Property="Padding" Value="3,1,3,1" />
                                                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                                                <Setter Property="BorderThickness" Value="0,0,0,0" />
                                                                <Setter Property="MinWidth" Value="0" />
                                                                <Setter Property="MinHeight" Value="0" />
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                            <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                                <ContentPresenter Uid="ContentPresenter_2"
                                                                                                  x:Name="Content"
                                                                                                  Content="{TemplateBinding Content}"
                                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                                            </Border>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                                        <Setter.Value>
                                                                                            <ScaleTransform ScaleX="1.1" ScaleY="1.1" />
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Trigger>
                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                                        <Setter.Value>
                                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                        <Setter Property="Opacity" Value="0.3" />
                                                                    </Trigger>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Opacity" Value="1" />
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Style.BasedOn>
                                                    </Style>
                                                </Style.BasedOn>
                                            </Style>
                                        </RepeatButton.Style>
                                        <RepeatButton.LayoutTransform>
                                            <ScaleTransform ScaleX="2.2" ScaleY="2.2" />
                                        </RepeatButton.LayoutTransform>
                                    </RepeatButton>
                                </Grid>
                            </Grid>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  ListBox  -->
    <Style TargetType="{x:Type ListBox}">
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
        <Setter Property="ScrollViewer.CanContentScroll" Value="true" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBox}">
                    <Border x:Name="Bd"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4,4,4,4"
                            Padding="1"
                            SnapsToDevicePixels="true">
                        <Grid x:Name="grid">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Border x:Name="border"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="4,4,4,4"
                                    Opacity="1" />
                            <Grid x:Name="Shadow">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="6" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="6" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="6" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="6" />
                                </Grid.ColumnDefinitions>
                                <Border Background="{StaticResource SecondaryBrush}" CornerRadius="2.5,0,0,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.655,0.644">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="3.489"
                                                                    ScaleY="3.489" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="-0.063" Y="-0.025" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Column="1" Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,-1.025" EndPoint="0.5,1">
                                            <GradientStop Offset="0" Color="#A5FFFFFF" />
                                            <GradientStop Offset="1" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,2.5,0,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.283,0.71">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="2.805"
                                                                    ScaleY="2.805" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="0.144" Y="-0.125" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="1" Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="-0.972,0.5" EndPoint="1,.5">
                                            <GradientStop Offset="1" Color="#00000000" />
                                            <GradientStop Offset="0" Color="#A5FFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="1"
                                        Grid.Column="1"
                                        Background="{StaticResource SecondaryBrush}"
                                        OpacityMask="#00000000" />
                                <Border Grid.Row="1"
                                        Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="2.01,0.5" EndPoint="0,0.5">
                                            <GradientStop Offset="0" Color="#A5FFFFFF" />
                                            <GradientStop Offset="1" Color="#00FFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,0,0,2.5">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.646,0.361">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="3.438"
                                                                    ScaleY="3.438" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="-0.072" Y="0.072" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Grid.Column="1"
                                        Margin="0,0,0,0"
                                        Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,2.065">
                                            <GradientStop Offset="0" Color="#00000000" />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,0,2.5,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.287,0.495">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="4.282"
                                                                    ScaleY="3.792" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="0.495" Y="-0.463" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                            </Grid>
                            <ScrollViewer x:Name="scrollViewer"
                                          Grid.RowSpan="1"
                                          Grid.ColumnSpan="1"
                                          Margin="4,4,4,4"
                                          Focusable="false"
                                          Foreground="{DynamicResource TextBrush}"
                                          Padding="{TemplateBinding Padding}">
                                <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            </ScrollViewer>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="border" Property="Opacity" Value="0.65" />
                            <Setter TargetName="scrollViewer" Property="Opacity" Value="0.65" />
                        </Trigger>
                        <Trigger Property="IsGrouping" Value="true">
                            <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  ListBoxItem  -->
    <Style TargetType="{x:Type ListBoxItem}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="HorizontalContentAlignment" Value="{Binding Path=HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
        <Setter Property="VerticalContentAlignment" Value="{Binding Path=VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="MinHeight" Value="20" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBoxItem}">
                    <Border x:Name="Bd"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            SnapsToDevicePixels="true">
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualStateGroup.Transitions>
                                    <vsm:VisualTransition GeneratedDuration="00:00:00.2000000" To="MouseOver" />
                                </vsm:VisualStateGroup.Transitions>
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="rectangle"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.35" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="SelectionStates">
                                <vsm:VisualState x:Name="Unselected" />
                                <vsm:VisualState x:Name="Selected">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="rectangleSelected"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="rectangleSelected"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.75" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="FocusStates">
                                <vsm:VisualState x:Name="Focused">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="rectangle1"
                                                                       Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                                <vsm:VisualState x:Name="Unfocused" />
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Grid>
                            <Rectangle x:Name="rectangleSelected"
                                       Opacity="0"
                                       RadiusX="3"
                                       RadiusY="3"
                                       Stroke="{DynamicResource SecondaryBrush}">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                        <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                        <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Rectangle x:Name="rectangle"
                                       Opacity="0"
                                       RadiusX="3"
                                       RadiusY="3"
                                       Stroke="{DynamicResource SecondaryBrush}">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                        <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                        <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <ContentPresenter x:Name="contentPresenter"
                                              Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            <Rectangle x:Name="rectangle1"
                                       Margin="0,0,0,0"
                                       RadiusX="3"
                                       RadiusY="3"
                                       Stroke="{DynamicResource SecondaryBrush}"
                                       Visibility="Collapsed" />
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="contentPresenter" Property="Opacity" Value="0.55" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  TabControl  -->
    <Style TargetType="{x:Type TabControl}">
        <Setter Property="Background">
            <Setter.Value>
                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                    <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                    <GradientStop Offset="1" Color="{DynamicResource PrimaryColor}" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Padding" Value="4,4,4,4" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TabControl}">
                    <Grid ClipToBounds="true"
                          KeyboardNavigation.TabNavigation="Local"
                          SnapsToDevicePixels="true">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition x:Name="ColumnDefinition0" />
                            <ColumnDefinition x:Name="ColumnDefinition1" Width="0" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition x:Name="RowDefinition0" Height="Auto" />
                            <RowDefinition x:Name="RowDefinition1" Height="*" />
                        </Grid.RowDefinitions>
                        <TabPanel x:Name="HeaderPanel"
                                  Margin="8,2,8,0"
                                  Panel.ZIndex="1"
                                  IsItemsHost="true"
                                  KeyboardNavigation.TabIndex="1" />
                        <Border x:Name="Background"
                                Grid.Row="1"
                                Background="{TemplateBinding Background}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4,4,4,4">
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1.522">
                                    <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource PrimaryColor}" />
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Grid>
                                <Grid x:Name="Shadow">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="6" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="6" />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="6" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="6" />
                                    </Grid.ColumnDefinitions>
                                    <Border Background="{StaticResource SecondaryBrush}" CornerRadius="2.5,0,0,0">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.655,0.644">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="3.489"
                                                                        ScaleY="3.489" />
                                                        <TranslateTransform X="-0.063" Y="-0.025" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Column="1" Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="0.5,-1.025" EndPoint="0.5,1">
                                                <GradientStop Offset="0" Color="#A5FFFFFF" />
                                                <GradientStop Offset="1" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Column="2"
                                            Background="{StaticResource SecondaryBrush}"
                                            CornerRadius="0,2.5,0,0">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.283,0.71">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="2.805"
                                                                        ScaleY="2.805" />
                                                        <TranslateTransform X="0.144" Y="-0.125" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="1" Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="-0.972,0.5" EndPoint="1,.5">
                                                <GradientStop Offset="1" Color="#00000000" />
                                                <GradientStop Offset="0" Color="#A5FFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="1"
                                            Grid.Column="1"
                                            Background="{StaticResource SecondaryBrush}"
                                            OpacityMask="#00000000" />
                                    <Border Grid.Row="1"
                                            Grid.Column="2"
                                            Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="2.01,0.5" EndPoint="0,0.5">
                                                <GradientStop Offset="0" Color="#A5FFFFFF" />
                                                <GradientStop Offset="1" Color="#00FFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="2"
                                            Background="{StaticResource SecondaryBrush}"
                                            CornerRadius="0,0,0,2.5">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.646,0.361">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="3.438"
                                                                        ScaleY="3.438" />
                                                        <TranslateTransform X="-0.072" Y="0.072" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="2"
                                            Grid.Column="1"
                                            Margin="0,0,0,0"
                                            Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,2.065">
                                                <GradientStop Offset="0" Color="#00000000" />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="2"
                                            Grid.Column="2"
                                            Background="{StaticResource SecondaryBrush}"
                                            CornerRadius="0,0,2.5,0">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.287,0.495">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="4.282"
                                                                        ScaleY="3.792" />
                                                        <TranslateTransform X="0.495" Y="-0.463" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                </Grid>
                                <Border x:Name="ContentPanel"
                                        KeyboardNavigation.DirectionalNavigation="Contained"
                                        KeyboardNavigation.TabIndex="2"
                                        KeyboardNavigation.TabNavigation="Local">
                                    <Grid Margin="6,6,6,6">
                                        <ContentPresenter x:Name="PART_SelectedContentHost"
                                                          Margin="1,1,1,1"
                                                          ContentSource="SelectedContent"
                                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="TabStripPlacement" Value="Bottom">
                            <Setter TargetName="HeaderPanel" Property="Grid.Row" Value="1" />
                            <Setter TargetName="ContentPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                            <Setter TargetName="RowDefinition1" Property="Height" Value="Auto" />
                            <Setter TargetName="HeaderPanel" Property="Margin" Value="8,0,8,2" />
                            <Setter TargetName="ContentPanel" Property="CornerRadius" Value="3,3,0,0" />
                            <Setter TargetName="Background" Property="Grid.Row" Value="0" />
                        </Trigger>
                        <Trigger Property="TabStripPlacement" Value="Left">
                            <Setter TargetName="HeaderPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="ContentPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Grid.Column" Value="0" />
                            <Setter TargetName="ContentPanel" Property="Grid.Column" Value="1" />
                            <Setter TargetName="ColumnDefinition0" Property="Width" Value="Auto" />
                            <Setter TargetName="ColumnDefinition1" Property="Width" Value="*" />
                            <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                            <Setter TargetName="RowDefinition1" Property="Height" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Margin" Value="2,8,0,8" />
                            <Setter TargetName="ContentPanel" Property="CornerRadius" Value="0,3,3,0" />
                            <Setter TargetName="Background" Property="Grid.Column" Value="1" />
                            <Setter TargetName="Background" Property="Grid.Row" Value="0" />
                        </Trigger>
                        <Trigger Property="TabStripPlacement" Value="Right">
                            <Setter TargetName="HeaderPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="ContentPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Grid.Column" Value="1" />
                            <Setter TargetName="ContentPanel" Property="Grid.Column" Value="0" />
                            <Setter TargetName="ColumnDefinition0" Property="Width" Value="*" />
                            <Setter TargetName="ColumnDefinition1" Property="Width" Value="Auto" />
                            <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                            <Setter TargetName="RowDefinition1" Property="Height" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Margin" Value="0,8,2,8" />
                            <Setter TargetName="ContentPanel" Property="CornerRadius" Value="3,0,0,3" />
                            <Setter TargetName="Background" Property="Grid.Row" Value="0" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="PART_SelectedContentHost" Property="Opacity" Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  TabItem  -->
    <Style TargetType="{x:Type TabItem}">
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="Padding" Value="6,1,6,1" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TabItem}">
                    <Grid SnapsToDevicePixels="true">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Border x:Name="Background"
                                Grid.RowSpan="1"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1,1,1,0"
                                CornerRadius="6,6,0,0"
                                Opacity="0.65">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1.546">
                                    <GradientStop Offset="0.344" Color="{DynamicResource PrimaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <Border x:Name="BdSelected"
                                Margin="-2,-2,-2,-6"
                                Background="{TemplateBinding Background}"
                                CornerRadius="8,8,0,0"
                                Visibility="Collapsed">
                            <Border x:Name="borderSelected"
                                    Margin="0,0,0,5"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1,1,1,0"
                                    CornerRadius="7,7,0,0"
                                    Visibility="Collapsed" />
                        </Border>
                        <ContentPresenter x:Name="Content"
                                          Grid.RowSpan="1"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{Binding Path=HorizontalContentAlignment,
                                                                        RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"
                                          VerticalAlignment="{Binding Path=VerticalContentAlignment,
                                                                      RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"
                                          ContentSource="Header"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Border x:Name="Disabled"
                                Grid.RowSpan="1"
                                Margin="-2,-2,-2,-2"
                                Background="#8CFFFFFF"
                                BorderBrush="{x:Null}"
                                CornerRadius="8,8,0,0"
                                Visibility="Collapsed" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="true">
                            <Setter TargetName="BdSelected" Property="Opacity" Value="0.8" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="true">
                            <Setter Property="Panel.ZIndex" Value="1" />
                            <Setter TargetName="Background" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="BdSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="borderSelected" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="false" />
                                <Condition Property="IsMouseOver" Value="true" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="Background" Property="Background">
                                <Setter.Value>
                                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1.546">
                                        <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                        <GradientStop Offset="0.621" Color="{DynamicResource SecondaryColor}" />
                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>
                        </MultiTrigger>
                        <Trigger Property="TabStripPlacement" Value="Bottom">
                            <Setter TargetName="BdSelected" Property="BorderThickness" Value="1,0,1,1" />
                            <Setter TargetName="BdSelected" Property="CornerRadius" Value="0,0,3,3" />
                            <Setter TargetName="borderSelected" Property="CornerRadius" Value="0,0,3,3" />
                            <Setter TargetName="Background" Property="CornerRadius" Value="0,0,6,6" />
                            <Setter TargetName="Background" Property="BorderThickness" Value="1,0,1,1" />
                            <Setter TargetName="Disabled" Property="Margin" Value="0,0,0,0" />
                            <Setter TargetName="Disabled" Property="CornerRadius" Value="0,0,6,6" />
                            <Setter TargetName="Disabled" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="TabStripPlacement" Value="Left">
                            <Setter TargetName="BdSelected" Property="BorderThickness" Value="1,1,0,1" />
                            <Setter TargetName="BdSelected" Property="CornerRadius" Value="3,0,0,3" />
                            <Setter TargetName="borderSelected" Property="CornerRadius" Value="3,0,0,3" />
                            <Setter TargetName="Background" Property="CornerRadius" Value="6,0,0,6" />
                            <Setter TargetName="Background" Property="BorderThickness" Value="1,1,0,1" />
                            <Setter TargetName="Disabled" Property="Margin" Value="0,0,0,0" />
                            <Setter TargetName="Disabled" Property="CornerRadius" Value="6,0,0,6" />
                            <Setter TargetName="Disabled" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="TabStripPlacement" Value="Right">
                            <Setter TargetName="BdSelected" Property="BorderThickness" Value="0,1,1,1" />
                            <Setter TargetName="BdSelected" Property="CornerRadius" Value="0,3,3,0" />
                            <Setter TargetName="borderSelected" Property="CornerRadius" Value="0,3,3,0" />
                            <Setter TargetName="Background" Property="CornerRadius" Value="0,6,6,0" />
                            <Setter TargetName="Background" Property="BorderThickness" Value="0,1,1,1" />
                            <Setter TargetName="Disabled" Property="Margin" Value="0,0,0,0" />
                            <Setter TargetName="Disabled" Property="CornerRadius" Value="0,6,6,0" />
                            <Setter TargetName="Disabled" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="true" />
                                <Condition Property="TabStripPlacement" Value="Top" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="Background" Property="Visibility" Value="Hidden" />
                            <Setter TargetName="BdSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="borderSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="BdSelected" Property="Margin" Value="-2,0,-2,-6" />
                            <Setter TargetName="Disabled" Property="Margin" Value="-2,0,-2,-2" />
                            <Setter TargetName="Disabled" Property="Visibility" Value="Collapsed" />
                        </MultiTrigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="true" />
                                <Condition Property="TabStripPlacement" Value="Bottom" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Margin" Value="-2,-1,-2,-2" />
                            <Setter TargetName="Content" Property="Margin" Value="6,1,6,1" />
                            <Setter TargetName="BdSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="borderSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="Background" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="borderSelected" Property="BorderThickness" Value="1,0,1,1" />
                            <Setter TargetName="BdSelected" Property="CornerRadius" Value="0,0,8,8" />
                            <Setter TargetName="BdSelected" Property="Margin" Value="-2,-6,-2,0" />
                            <Setter TargetName="borderSelected" Property="CornerRadius" Value="0,0,7,7" />
                            <Setter TargetName="borderSelected" Property="Margin" Value="0,5,0,0" />
                            <Setter TargetName="Disabled" Property="Margin" Value="-2,-2,-2,0" />
                            <Setter TargetName="Disabled" Property="CornerRadius" Value="0,0,8,8" />
                            <Setter TargetName="Disabled" Property="Visibility" Value="Collapsed" />
                        </MultiTrigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="true" />
                                <Condition Property="TabStripPlacement" Value="Left" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Margin" Value="-2,-2,-1,-2" />
                            <Setter TargetName="Content" Property="Margin" Value="6,1,6,1" />
                            <Setter TargetName="Background" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="BdSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="borderSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="borderSelected" Property="BorderThickness" Value="1,1,0,1" />
                            <Setter TargetName="BdSelected" Property="CornerRadius" Value="8,0,0,8" />
                            <Setter TargetName="BdSelected" Property="Margin" Value="0,-2,-6,-2" />
                            <Setter TargetName="borderSelected" Property="CornerRadius" Value="7,0,0,7" />
                            <Setter TargetName="borderSelected" Property="Margin" Value="0,0,6,0" />
                            <Setter TargetName="Disabled" Property="CornerRadius" Value="8,0,0,8" />
                            <Setter TargetName="Disabled" Property="Margin" Value="0,-2,-2,-2" />
                            <Setter TargetName="Disabled" Property="Visibility" Value="Collapsed" />
                        </MultiTrigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="true" />
                                <Condition Property="TabStripPlacement" Value="Right" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Margin" Value="-1,-2,-2,-2" />
                            <Setter TargetName="Content" Property="Margin" Value="6,1,6,1" />
                            <Setter TargetName="Background" Property="Visibility" Value="Hidden" />
                            <Setter TargetName="BdSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="borderSelected" Property="Visibility" Value="Visible" />
                            <Setter TargetName="borderSelected" Property="BorderThickness" Value="0,1,1,1" />
                            <Setter TargetName="BdSelected" Property="CornerRadius" Value="0,8,8,0" />
                            <Setter TargetName="BdSelected" Property="Margin" Value="-6,-2,0,-2" />
                            <Setter TargetName="borderSelected" Property="Margin" Value="6,0,0,0" />
                            <Setter TargetName="borderSelected" Property="CornerRadius" Value="0,7,7,0" />
                            <Setter TargetName="Disabled" Property="CornerRadius" Value="0,8,8,0" />
                            <Setter TargetName="Disabled" Property="Margin" Value="-2,-2,0,-2" />
                            <Setter TargetName="Disabled" Property="Visibility" Value="Collapsed" />
                        </MultiTrigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="Disabled" Property="Visibility" Value="Visible" />
                            <Setter TargetName="Disabled" Property="Margin" Value="0,0,0,0" />
                            <Setter TargetName="Disabled" Property="CornerRadius" Value="6,6,0,0" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="IsSelected" Value="False" />
    </Style>

    <!--  ComboBox  -->
    <Style TargetType="{x:Type ComboBox}">
        <Style.Resources>
            <Geometry x:Key="DownArrowGeometry">M 0 0 L 3.5 4 L 7 0 Z</Geometry>
            <Style x:Key="ComboBoxReadonlyToggleButton" TargetType="{x:Type ToggleButton}">
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Focusable" Value="false" />
                <Setter Property="ClickMode" Value="Press" />
                <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
                <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
                <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Grid>
                                <vsm:VisualStateManager.VisualStateGroups>
                                    <vsm:VisualStateGroup x:Name="CommonStates">
                                        <vsm:VisualStateGroup.Transitions>
                                            <vsm:VisualTransition GeneratedDuration="00:00:00.2000000" />
                                            <vsm:VisualTransition From="MouseOver"
                                                                  GeneratedDuration="00:00:00"
                                                                  To="Pressed" />
                                            <vsm:VisualTransition From="Pressed" GeneratedDuration="00:00:00" />
                                        </vsm:VisualStateGroup.Transitions>
                                        <vsm:VisualState x:Name="Normal" />
                                        <vsm:VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                               Storyboard.TargetName="Shadow"
                                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </vsm:VisualState>
                                        <vsm:VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                  Storyboard.TargetName="border"
                                                                                  Storyboard.TargetProperty="(Border.BorderThickness)">
                                                    <SplineThicknessKeyFrame KeyTime="0" Value="2.5,2.5,0.5,0.5" />
                                                </ThicknessAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </vsm:VisualState>
                                    </vsm:VisualStateGroup>
                                    <vsm:VisualStateGroup x:Name="FocusStates">
                                        <vsm:VisualState x:Name="Focused">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                               Storyboard.TargetName="Focus"
                                                                               Storyboard.TargetProperty="(UIElement.Visibility)">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </vsm:VisualState>
                                        <vsm:VisualState x:Name="Unfocused" />
                                    </vsm:VisualStateGroup>
                                </vsm:VisualStateManager.VisualStateGroups>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Border x:Name="border"
                                        Grid.RowSpan="1"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="1,1,1,1"
                                        CornerRadius="12,12,12,12" />
                                <Grid x:Name="Shadow">
                                    <Border Background="{TemplateBinding BorderBrush}"
                                            CornerRadius="12,12,12,12"
                                            OpacityMask="{DynamicResource BottomShadowMask}" />
                                    <Border Background="{TemplateBinding BorderBrush}"
                                            CornerRadius="12,12,12,12"
                                            OpacityMask="{DynamicResource HaloMask}" />
                                </Grid>
                                <Grid Grid.RowSpan="1"
                                      Width="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}"
                                      HorizontalAlignment="Right">
                                    <Path x:Name="Arrow"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          Data="{StaticResource DownArrowGeometry}"
                                          Fill="{TemplateBinding Foreground}" />
                                </Grid>
                                <Border x:Name="Focus"
                                        Grid.RowSpan="1"
                                        Margin="-3,-3,-3,-3"
                                        BorderBrush="{DynamicResource SecondaryBrush}"
                                        BorderThickness="1,1,1,1"
                                        CornerRadius="13,13,13,13"
                                        OpacityMask="{DynamicResource FocusMask}"
                                        Visibility="Collapsed" />
                                <Border x:Name="Disabled"
                                        CornerRadius="12,12,12,12"
                                        Visibility="Collapsed">
                                    <Border.Background>
                                        <SolidColorBrush Color="{DynamicResource DisabledColor}" />
                                    </Border.Background>
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="true" />
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter TargetName="Focus" Property="Visibility" Value="Visible" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter TargetName="Arrow" Property="Fill" Value="#AFAFAF" />
                                    <Setter TargetName="Disabled" Property="Visibility" Value="Visible" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <ControlTemplate x:Key="ComboBoxEditableTemplate" TargetType="{x:Type ComboBox}">
                <ControlTemplate.Resources>
                    <Style x:Name="EditComboTextBox" TargetType="{x:Type TextBox}">
                        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
                        <Setter Property="BorderThickness" Value="1,1.5,0.5,0.5" />
                        <Setter Property="Padding" Value="1" />
                        <Setter Property="AllowDrop" Value="true" />
                        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                        <Setter Property="MinWidth" Value="0" />
                        <Setter Property="MinHeight" Value="0" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type TextBox}">
                                    <Grid>
                                        <vsm:VisualStateManager.VisualStateGroups>
                                            <vsm:VisualStateGroup x:Name="CommonStates">
                                                <vsm:VisualState x:Name="Normal" />
                                                <vsm:VisualState x:Name="MouseOver">
                                                    <Storyboard>
                                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                       Storyboard.TargetName="InnerShadow"
                                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.5" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </vsm:VisualState>
                                                <vsm:VisualState x:Name="Disabled">
                                                    <Storyboard>
                                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                       Storyboard.TargetName="PART_ContentHost"
                                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.35" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <ThicknessAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                          Storyboard.TargetName="White"
                                                                                          Storyboard.TargetProperty="(Border.BorderThickness)">
                                                            <SplineThicknessKeyFrame KeyTime="0" Value="0.5,0.5,0.5,0.5" />
                                                        </ThicknessAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                       Storyboard.TargetName="InnerShadow"
                                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.65" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </vsm:VisualState>
                                                <vsm:VisualState x:Name="ReadOnly" />
                                            </vsm:VisualStateGroup>
                                        </vsm:VisualStateManager.VisualStateGroups>
                                        <Border x:Name="White"
                                                Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="1,1.5,0.5,0.5"
                                                CornerRadius="4,4,4,4" />
                                        <Grid x:Name="InnerShadow">
                                            <Border x:Name="BottomShadow"
                                                    Background="{TemplateBinding BorderBrush}"
                                                    CornerRadius="4,4,4,4"
                                                    OpacityMask="{DynamicResource BoxBottomShadowMask}" />
                                            <Border x:Name="Halo"
                                                    Background="{TemplateBinding BorderBrush}"
                                                    CornerRadius="4,4,4,4"
                                                    OpacityMask="{DynamicResource HaloMask}" />
                                        </Grid>
                                        <ScrollViewer x:Name="PART_ContentHost" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                        <Border x:Name="border"
                                                Margin="-3,-3,-3,-3"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="1,1,1,1"
                                                CornerRadius="7,7,7,7"
                                                OpacityMask="{DynamicResource FocusMask}"
                                                Visibility="Collapsed" />
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter TargetName="White" Property="BorderThickness" Value="0.5,0.5,0.5,0.5" />
                                            <Setter TargetName="InnerShadow" Property="Opacity" Value="0.65" />
                                            <Setter TargetName="PART_ContentHost" Property="Opacity" Value="0.35" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ControlTemplate.Resources>
                <Grid x:Name="Placement" SnapsToDevicePixels="true">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Popup x:Name="PART_Popup"
                           Grid.ColumnSpan="1"
                           AllowsTransparency="true"
                           IsOpen="{Binding Path=IsDropDownOpen,
                                            RelativeSource={RelativeSource TemplatedParent}}"
                           Placement="Bottom"
                           PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}">
                        <Border x:Name="Shdw"
                                MinWidth="{Binding Path=ActualWidth,
                                                   ElementName=Placement}"
                                MaxHeight="{TemplateBinding MaxDropDownHeight}">
                            <Border x:Name="DropDownBorder"
                                    Background="{DynamicResource PrimaryBrush}"
                                    BorderBrush="{DynamicResource SecondaryBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4,4,4,4">
                                <ScrollViewer>
                                    <ItemsPresenter KeyboardNavigation.DirectionalNavigation="Contained" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </ScrollViewer>
                            </Border>
                        </Border>
                    </Popup>
                    <Border x:Name="Border" CornerRadius="4,4,4,4">
                        <Grid>
                            <ToggleButton HorizontalAlignment="Stretch"
                                          IsChecked="{Binding Path=IsDropDownOpen,
                                                              Mode=TwoWay,
                                                              RelativeSource={RelativeSource TemplatedParent}}"
                                          Style="{DynamicResource ComboBoxReadonlyToggleButton}" />
                            <TextBox x:Name="PART_EditableTextBox"
                                     Margin="6,2,21,2"
                                     HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                     VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                     Background="{x:Null}"
                                     IsReadOnly="{Binding Path=IsReadOnly,
                                                          RelativeSource={RelativeSource TemplatedParent}}"
                                     Style="{DynamicResource EditComboTextBox}" />
                        </Grid>
                    </Border>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsKeyboardFocusWithin" Value="true">
                        <Setter Property="Foreground" Value="Black" />
                    </Trigger>
                    <Trigger Property="IsDropDownOpen" Value="true" />
                    <Trigger Property="HasItems" Value="false">
                        <Setter TargetName="DropDownBorder" Property="Height" Value="95" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Background" Value="#FFF4F4F4" />
                    </Trigger>
                    <Trigger Property="IsGrouping" Value="true">
                        <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Style.Resources>
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
        <Setter Property="Padding" Value="4,3" />
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ComboBox}">
                    <Grid x:Name="MainGrid" SnapsToDevicePixels="true">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="0" MinWidth="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
                        </Grid.ColumnDefinitions>
                        <Popup x:Name="PART_Popup"
                               Grid.ColumnSpan="2"
                               Margin="1"
                               AllowsTransparency="true"
                               IsOpen="{Binding Path=IsDropDownOpen,
                                                RelativeSource={RelativeSource TemplatedParent}}"
                               Placement="Bottom"
                               PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}">
                            <Border x:Name="DropDownBorder"
                                    MinWidth="{Binding Path=ActualWidth,
                                                       ElementName=MainGrid}"
                                    MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                    Background="{DynamicResource PrimaryBrush}"
                                    BorderBrush="{DynamicResource SecondaryBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4,4,4,4">
                                <ScrollViewer CanContentScroll="true">
                                    <ItemsPresenter KeyboardNavigation.DirectionalNavigation="Contained" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </ScrollViewer>
                            </Border>
                        </Popup>
                        <ToggleButton Grid.ColumnSpan="2"
                                      IsChecked="{Binding Path=IsDropDownOpen,
                                                          Mode=TwoWay,
                                                          RelativeSource={RelativeSource TemplatedParent}}"
                                      Style="{StaticResource ComboBoxReadonlyToggleButton}" />
                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          Content="{TemplateBinding SelectionBoxItem}"
                                          ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                          ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                          IsHitTestVisible="false"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="HasItems" Value="false">
                            <Setter TargetName="DropDownBorder" Property="Height" Value="95" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Background" Value="#FFF4F4F4" />
                        </Trigger>
                        <Trigger Property="IsGrouping" Value="true">
                            <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsEditable" Value="true">
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Template" Value="{StaticResource ComboBoxEditableTemplate}" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <!--  ComboBoxItem  -->
    <Style TargetType="{x:Type ComboBoxItem}">
        <Setter Property="HorizontalContentAlignment" Value="{Binding Path=HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
        <Setter Property="VerticalContentAlignment" Value="{Binding Path=VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
        <Setter Property="Padding" Value="3,0,3,0" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                    <Grid>
                        <Rectangle x:Name="Hover"
                                   Opacity="0"
                                   RadiusX="3"
                                   RadiusY="3"
                                   Stroke="{DynamicResource SecondaryBrush}">
                            <Rectangle.Fill>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                </LinearGradientBrush>
                            </Rectangle.Fill>
                        </Rectangle>
                        <Rectangle x:Name="Selected"
                                   Opacity="0"
                                   RadiusX="3"
                                   RadiusY="3"
                                   Stroke="{DynamicResource SecondaryBrush}">
                            <Rectangle.Fill>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                </LinearGradientBrush>
                            </Rectangle.Fill>
                        </Rectangle>
                        <Border x:Name="Bd"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}"
                                SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Hover" Property="Opacity" Value="0.35" />
                        </Trigger>
                        <Trigger Property="IsHighlighted" Value="true">
                            <Setter TargetName="Selected" Property="Opacity" Value="0.75" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="Bd" Property="Opacity" Value="0.5" />
                            <Setter TargetName="contentPresenter" Property="Opacity" Value="1" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
    </Style>

    <!--  Menu  -->
    <Style TargetType="{x:Type Menu}">
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="FontFamily" Value="{DynamicResource {x:Static SystemFonts.MenuFontFamilyKey}}" />
        <Setter Property="FontSize" Value="{DynamicResource {x:Static SystemFonts.MenuFontSizeKey}}" />
        <Setter Property="FontStyle" Value="{DynamicResource {x:Static SystemFonts.MenuFontStyleKey}}" />
        <Setter Property="FontWeight" Value="{DynamicResource {x:Static SystemFonts.MenuFontWeightKey}}" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value="1,1,1,1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Menu}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4,4,4,4"
                            Padding="1,1,1,1">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid x:Name="Shadow">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="6" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="6" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="6" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="6" />
                                </Grid.ColumnDefinitions>
                                <Border Background="{StaticResource SecondaryBrush}" CornerRadius="2.5,0,0,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.655,0.644">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="3.489"
                                                                    ScaleY="3.489" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="-0.063" Y="-0.025" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Column="1" Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,-1.025" EndPoint="0.5,1">
                                            <GradientStop Offset="0" Color="#A5FFFFFF" />
                                            <GradientStop Offset="1" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,2.5,0,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.283,0.71">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="2.805"
                                                                    ScaleY="2.805" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="0.144" Y="-0.125" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="1" Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="-0.972,0.5" EndPoint="1,.5">
                                            <GradientStop Offset="1" Color="#00000000" />
                                            <GradientStop Offset="0" Color="#A5FFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="1"
                                        Grid.Column="1"
                                        Background="{StaticResource SecondaryBrush}"
                                        OpacityMask="#00000000" />
                                <Border Grid.Row="1"
                                        Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="2.01,0.5" EndPoint="0,0.5">
                                            <GradientStop Offset="0" Color="#A5FFFFFF" />
                                            <GradientStop Offset="1" Color="#00FFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,0,0,2.5">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.646,0.361">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="3.438"
                                                                    ScaleY="3.438" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="-0.072" Y="0.072" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Grid.Column="1"
                                        Margin="0,0,0,0"
                                        Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,2.065">
                                            <GradientStop Offset="0" Color="#00000000" />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,0,2.5,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush GradientOrigin="0.287,0.495">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="4.282"
                                                                    ScaleY="3.792" />
                                                    <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                    <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                    <TranslateTransform X="0.495" Y="-0.463" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#A5FFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                            </Grid>
                            <Border Grid.RowSpan="1"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="{TemplateBinding Padding}"
                                    SnapsToDevicePixels="true">
                                <ItemsPresenter Margin="4,0,4,0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            </Border>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  MenuItem  -->
    <Style TargetType="{x:Type MenuItem}">
        <Style.Resources>
            <Geometry x:Key="Checkmark">M 0,5.1 L 1.7,5.2 L 3.4,7.1 L 8,0.4 L 9.2,0 L 3.3,10.8 Z</Geometry>
            <Style x:Key="MenuScrollButton"
                   BasedOn="{x:Null}"
                   TargetType="{x:Type RepeatButton}">
                <Setter Property="ClickMode" Value="Hover" />
                <Setter Property="MinWidth" Value="0" />
                <Setter Property="MinHeight" Value="0" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                            <DockPanel Background="Transparent" SnapsToDevicePixels="true">
                                <Rectangle x:Name="R1"
                                           Width="1"
                                           DockPanel.Dock="Right"
                                           Fill="Transparent" />
                                <Rectangle x:Name="B1"
                                           Height="1"
                                           DockPanel.Dock="Bottom"
                                           Fill="Transparent" />
                                <Rectangle x:Name="L1"
                                           Width="1"
                                           DockPanel.Dock="Left"
                                           Fill="Transparent" />
                                <Rectangle x:Name="T1"
                                           Height="1"
                                           DockPanel.Dock="Top"
                                           Fill="Transparent" />
                                <ContentPresenter x:Name="ContentContainer"
                                                  Margin="2,2,2,2"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                            </DockPanel>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter TargetName="ContentContainer" Property="Margin" Value="3,3,1,1" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Geometry x:Key="UpArrow">M 0,4 L 3.5,0 L 7,4 Z</Geometry>
            <MenuScrollingVisibilityConverter x:Key="MenuScrollingVisibilityConverter" />
            <Geometry x:Key="DownArrow">M 0,0 L 3.5,4 L 7,0 Z</Geometry>
            <Geometry x:Key="RightArrow">M 0,0 L 4,3.5 L 0,7 Z</Geometry>
            <Style x:Key="{ComponentResourceKey ResourceId=MenuScrollViewer,
                                                TypeInTargetAssembly={x:Type FrameworkElement}}"
                   BasedOn="{x:Null}"
                   TargetType="{x:Type ScrollViewer}">
                <Setter Property="HorizontalScrollBarVisibility" Value="Hidden" />
                <Setter Property="VerticalScrollBarVisibility" Value="Auto" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ScrollViewer}">
                            <Grid SnapsToDevicePixels="true">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <RepeatButton Command="{x:Static ScrollBar.LineUpCommand}"
                                              CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"
                                              Focusable="false"
                                              Style="{StaticResource MenuScrollButton}">
                                    <RepeatButton.Visibility>
                                        <MultiBinding Converter="{StaticResource MenuScrollingVisibilityConverter}"
                                                      ConverterParameter="0"
                                                      FallbackValue="Visibility.Collapsed">
                                            <Binding Path="ComputedVerticalScrollBarVisibility" RelativeSource="{RelativeSource TemplatedParent}" />
                                            <Binding Path="VerticalOffset" RelativeSource="{RelativeSource TemplatedParent}" />
                                            <Binding Path="ExtentHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                                            <Binding Path="ViewportHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                                        </MultiBinding>
                                    </RepeatButton.Visibility>
                                    <Path Data="{StaticResource UpArrow}" Fill="{DynamicResource {x:Static SystemColors.MenuTextBrushKey}}" />
                                </RepeatButton>
                                <Border Grid.Row="1">
                                    <ScrollContentPresenter Margin="{TemplateBinding Padding}" />
                                </Border>
                                <RepeatButton Grid.Row="2"
                                              Command="{x:Static ScrollBar.LineDownCommand}"
                                              CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"
                                              Focusable="false"
                                              Style="{StaticResource MenuScrollButton}">
                                    <RepeatButton.Visibility>
                                        <MultiBinding Converter="{StaticResource MenuScrollingVisibilityConverter}"
                                                      ConverterParameter="100"
                                                      FallbackValue="Visibility.Collapsed">
                                            <Binding Path="ComputedVerticalScrollBarVisibility" RelativeSource="{RelativeSource TemplatedParent}" />
                                            <Binding Path="VerticalOffset" RelativeSource="{RelativeSource TemplatedParent}" />
                                            <Binding Path="ExtentHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                                            <Binding Path="ViewportHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                                        </MultiBinding>
                                    </RepeatButton.Visibility>
                                    <Path Data="{StaticResource DownArrow}" Fill="{DynamicResource {x:Static SystemColors.MenuTextBrushKey}}" />
                                </RepeatButton>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <ControlTemplate x:Key="{ComponentResourceKey ResourceId=SubmenuContent, TypeInTargetAssembly={x:Type FrameworkElement}}" TargetType="{x:Type ContentControl}">
                <Grid>
                    <Grid x:Name="Shadow">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="6" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="6" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="6" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="6" />
                        </Grid.ColumnDefinitions>
                        <Border Background="{StaticResource SecondaryBrush}" CornerRadius="2.5,0,0,0">
                            <Border.OpacityMask>
                                <RadialGradientBrush GradientOrigin="0.655,0.644">
                                    <RadialGradientBrush.RelativeTransform>
                                        <TransformGroup>
                                            <ScaleTransform CenterX="0.5"
                                                            CenterY="0.5"
                                                            ScaleX="3.489"
                                                            ScaleY="3.489" />
                                            <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                            <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                            <TranslateTransform X="-0.063" Y="-0.025" />
                                        </TransformGroup>
                                    </RadialGradientBrush.RelativeTransform>
                                    <GradientStop />
                                    <GradientStop Offset="1" Color="#A5FFFFFF" />
                                </RadialGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                        <Border Grid.Column="1" Background="{StaticResource SecondaryBrush}">
                            <Border.OpacityMask>
                                <LinearGradientBrush StartPoint="0.5,-1.025" EndPoint="0.5,1">
                                    <GradientStop Offset="0" Color="#A5FFFFFF" />
                                    <GradientStop Offset="1" />
                                </LinearGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                        <Border Grid.Column="2"
                                Background="{StaticResource SecondaryBrush}"
                                CornerRadius="0,2.5,0,0">
                            <Border.OpacityMask>
                                <RadialGradientBrush GradientOrigin="0.283,0.71">
                                    <RadialGradientBrush.RelativeTransform>
                                        <TransformGroup>
                                            <ScaleTransform CenterX="0.5"
                                                            CenterY="0.5"
                                                            ScaleX="2.805"
                                                            ScaleY="2.805" />
                                            <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                            <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                            <TranslateTransform X="0.144" Y="-0.125" />
                                        </TransformGroup>
                                    </RadialGradientBrush.RelativeTransform>
                                    <GradientStop />
                                    <GradientStop Offset="1" Color="#A5FFFFFF" />
                                </RadialGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                        <Border Grid.Row="1" Background="{StaticResource SecondaryBrush}">
                            <Border.OpacityMask>
                                <LinearGradientBrush StartPoint="-0.972,0.5" EndPoint="1,.5">
                                    <GradientStop Offset="1" Color="#00000000" />
                                    <GradientStop Offset="0" Color="#A5FFFFFF" />
                                </LinearGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                        <Border Grid.Row="1"
                                Grid.Column="1"
                                Background="{StaticResource SecondaryBrush}"
                                OpacityMask="#00000000" />
                        <Border Grid.Row="1"
                                Grid.Column="2"
                                Background="{StaticResource SecondaryBrush}">
                            <Border.OpacityMask>
                                <LinearGradientBrush StartPoint="2.01,0.5" EndPoint="0,0.5">
                                    <GradientStop Offset="0" Color="#A5FFFFFF" />
                                    <GradientStop Offset="1" Color="#00FFFFFF" />
                                </LinearGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                        <Border Grid.Row="2"
                                Background="{StaticResource SecondaryBrush}"
                                CornerRadius="0,0,0,2.5">
                            <Border.OpacityMask>
                                <RadialGradientBrush GradientOrigin="0.646,0.361">
                                    <RadialGradientBrush.RelativeTransform>
                                        <TransformGroup>
                                            <ScaleTransform CenterX="0.5"
                                                            CenterY="0.5"
                                                            ScaleX="3.438"
                                                            ScaleY="3.438" />
                                            <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                            <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                            <TranslateTransform X="-0.072" Y="0.072" />
                                        </TransformGroup>
                                    </RadialGradientBrush.RelativeTransform>
                                    <GradientStop />
                                    <GradientStop Offset="1" Color="#A5FFFFFF" />
                                </RadialGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                        <Border Grid.Row="2"
                                Grid.Column="1"
                                Margin="0,0,0,0"
                                Background="{StaticResource SecondaryBrush}">
                            <Border.OpacityMask>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,2.065">
                                    <GradientStop Offset="0" Color="#00000000" />
                                    <GradientStop Offset="1" Color="#A5FFFFFF" />
                                </LinearGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                        <Border Grid.Row="2"
                                Grid.Column="2"
                                Background="{StaticResource SecondaryBrush}"
                                CornerRadius="0,0,2.5,0">
                            <Border.OpacityMask>
                                <RadialGradientBrush GradientOrigin="0.287,0.495">
                                    <RadialGradientBrush.RelativeTransform>
                                        <TransformGroup>
                                            <ScaleTransform CenterX="0.5"
                                                            CenterY="0.5"
                                                            ScaleX="4.282"
                                                            ScaleY="3.792" />
                                            <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                            <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                            <TranslateTransform X="0.495" Y="-0.463" />
                                        </TransformGroup>
                                    </RadialGradientBrush.RelativeTransform>
                                    <GradientStop />
                                    <GradientStop Offset="1" Color="#A5FFFFFF" />
                                </RadialGradientBrush>
                            </Border.OpacityMask>
                        </Border>
                    </Grid>
                    <Border Margin="1,1,1,1"
                            Background="{DynamicResource PrimaryBrush}"
                            BorderBrush="{DynamicResource SecondaryBrush}"
                            BorderThickness="1"
                            CornerRadius="4,4,4,4">
                        <Grid>
                            <ContentPresenter Grid.ColumnSpan="2" Margin="1,0" />
                        </Grid>
                    </Border>
                </Grid>
            </ControlTemplate>
            <ControlTemplate x:Key="{ComponentResourceKey ResourceId=SubmenuItemTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}" TargetType="{x:Type MenuItem}">
                <Grid SnapsToDevicePixels="true">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Grid x:Name="SelectHoverGrid" Opacity="0">
                        <Border x:Name="Background"
                                HorizontalAlignment="Stretch"
                                BorderBrush="{DynamicResource SecondaryBrush}"
                                BorderThickness="0.5,0.5,1.5,1.5"
                                CornerRadius="12"
                                Visibility="Visible">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <Grid x:Name="InnerShadow" HorizontalAlignment="Stretch">
                            <Border x:Name="BottomShadow"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource BottomShadowMask}">
                                <Border.Background>
                                    <SolidColorBrush Color="{DynamicResource SecondaryColor}" />
                                </Border.Background>
                            </Border>
                            <Border x:Name="Halo"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource HaloMask}">
                                <Border.Background>
                                    <SolidColorBrush Color="{DynamicResource SecondaryColor}" />
                                </Border.Background>
                            </Border>
                        </Grid>
                    </Grid>
                    <Grid x:Name="grid"
                          Grid.RowSpan="1"
                          Margin="4,0,4,0"
                          VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"
                                              MinWidth="24"
                                              SharedSizeGroup="MenuItemIconColumnGroup" />
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="37" />
                            <ColumnDefinition Width="Auto" SharedSizeGroup="MenuItemIGTColumnGroup" />
                            <ColumnDefinition Width="17" />
                        </Grid.ColumnDefinitions>
                        <ContentPresenter x:Name="Icon"
                                          Margin="1"
                                          VerticalAlignment="Center"
                                          ContentSource="Icon"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Border x:Name="GlyphPanel"
                                Width="22"
                                Height="22"
                                Margin="1"
                                Background="{DynamicResource PrimaryBrush}"
                                BorderBrush="{DynamicResource SecondaryBrush}"
                                BorderThickness="1"
                                CornerRadius="3"
                                Visibility="Hidden">
                            <Path x:Name="Glyph"
                                  Width="9"
                                  Height="11"
                                  Data="{StaticResource Checkmark}"
                                  Fill="{DynamicResource TextBrush}"
                                  FlowDirection="LeftToRight" />
                        </Border>
                        <ContentPresenter Grid.Column="2"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          ContentSource="Header"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <TextBlock Grid.Column="4"
                                   Margin="{TemplateBinding Padding}"
                                   Foreground="{DynamicResource TextBrush}"
                                   Text="{TemplateBinding InputGestureText}" />
                    </Grid>
                    <Border x:Name="focused"
                            BorderBrush="{DynamicResource SecondaryBrush}"
                            BorderThickness="1,1,1,1"
                            CornerRadius="12,12,12,12"
                            Visibility="Collapsed" />
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsFocused" Value="True">
                        <Setter TargetName="focused" Property="Visibility" Value="Visible" />
                    </Trigger>
                    <Trigger Property="Icon" Value="{x:Null}">
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsChecked" Value="true">
                        <Setter TargetName="GlyphPanel" Property="Visibility" Value="Visible" />
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsHighlighted" Value="true">
                        <Setter TargetName="SelectHoverGrid" Property="Opacity" Value="1" />
                        <Setter TargetName="Background" Property="BorderBrush" Value="#FFCCCCCC" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Foreground" Value="#FF9A9A9A" />
                        <Setter TargetName="GlyphPanel" Property="Background" Value="#EEE9E9" />
                        <Setter TargetName="GlyphPanel" Property="BorderBrush" Value="#DBD6D6" />
                        <Setter TargetName="Glyph" Property="Fill" Value="#848589" />
                        <Setter TargetName="grid" Property="Opacity" Value="0.65" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <ControlTemplate x:Key="{ComponentResourceKey ResourceId=TopLevelHeaderTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}" TargetType="{x:Type MenuItem}">
                <Grid SnapsToDevicePixels="true">
                    <Rectangle x:Name="OuterBorder"
                               RadiusX="3"
                               RadiusY="3" />
                    <Rectangle x:Name="Bg"
                               Margin="1"
                               Opacity="0"
                               RadiusX="4"
                               RadiusY="4"
                               Stroke="{TemplateBinding BorderBrush}"
                               StrokeThickness="1">
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1.47">
                                <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                    <DockPanel>
                        <ContentPresenter x:Name="Icon"
                                          Margin="4,0,6,0"
                                          VerticalAlignment="Center"
                                          ContentSource="Icon"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Path x:Name="GlyphPanel"
                              Margin="7,0,0,0"
                              VerticalAlignment="Center"
                              Data="{StaticResource Checkmark}"
                              Fill="{TemplateBinding Foreground}"
                              FlowDirection="LeftToRight"
                              Visibility="Collapsed" />
                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          ContentSource="Header"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                    </DockPanel>
                    <Popup x:Name="PART_Popup"
                           AllowsTransparency="true"
                           Focusable="false"
                           HorizontalOffset="1"
                           IsOpen="{Binding Path=IsSubmenuOpen,
                                            RelativeSource={RelativeSource TemplatedParent}}"
                           Placement="Bottom"
                           PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}"
                           VerticalOffset="-1">
                        <Border x:Name="Shdw" CornerRadius="4,4,4,4">
                            <ContentControl x:Name="SubMenuBorder"
                                            IsTabStop="false"
                                            Template="{DynamicResource {ComponentResourceKey ResourceId=SubmenuContent,
                                                                                             TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                <ScrollViewer CanContentScroll="true" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                    <ItemsPresenter Margin="2"
                                                    Grid.IsSharedSizeScope="true"
                                                    KeyboardNavigation.DirectionalNavigation="Cycle"
                                                    KeyboardNavigation.TabNavigation="Cycle"
                                                    SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </ScrollViewer>
                            </ContentControl>
                        </Border>
                    </Popup>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsSuspendingPopupAnimation" Value="true">
                        <Setter TargetName="PART_Popup" Property="PopupAnimation" Value="None" />
                    </Trigger>
                    <Trigger Property="Icon" Value="{x:Null}">
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsChecked" Value="true">
                        <Setter TargetName="GlyphPanel" Property="Visibility" Value="Visible" />
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsHighlighted" Value="true">
                        <Setter TargetName="Bg" Property="Opacity" Value="0.65" />
                    </Trigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="IsMouseOver" Value="True" />
                            <Condition Property="IsChecked" Value="True" />
                        </MultiTrigger.Conditions>
                        <Setter TargetName="Bg" Property="Opacity" Value="0.65" />
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                        <Setter TargetName="GlyphPanel" Property="Visibility" Value="Visible" />
                    </MultiTrigger>
                    <Trigger Property="IsKeyboardFocused" Value="true">
                        <Setter TargetName="Bg" Property="Stroke" Value="#E0717070" />
                    </Trigger>
                    <Trigger Property="IsSubmenuOpen" Value="true">
                        <Setter TargetName="Bg" Property="Opacity" Value="0.65" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Foreground" Value="#FF9A9A9A" />
                        <Setter TargetName="GlyphPanel" Property="Fill" Value="#848589" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <ControlTemplate x:Key="{ComponentResourceKey ResourceId=TopLevelItemTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}" TargetType="{x:Type MenuItem}">
                <Grid SnapsToDevicePixels="true">
                    <Rectangle x:Name="OuterBorder"
                               RadiusX="4"
                               RadiusY="4" />
                    <Rectangle x:Name="Bg"
                               Margin="1"
                               RadiusX="3"
                               RadiusY="3"
                               StrokeThickness="1" />
                    <Rectangle x:Name="InnerBorder" Margin="2" />
                    <DockPanel>
                        <ContentPresenter x:Name="Icon"
                                          Margin="4,0,6,0"
                                          VerticalAlignment="Center"
                                          ContentSource="Icon"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Path x:Name="GlyphPanel"
                              Margin="7,0,0,0"
                              VerticalAlignment="Center"
                              Data="{StaticResource Checkmark}"
                              Fill="{TemplateBinding Foreground}"
                              FlowDirection="LeftToRight"
                              Visibility="Collapsed" />
                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          ContentSource="Header"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                    </DockPanel>
                </Grid>
                <ControlTemplate.Triggers>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="IsChecked" Value="True" />
                            <Condition Property="IsHighlighted" Value="True" />
                        </MultiTrigger.Conditions>
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                        <Setter TargetName="GlyphPanel" Property="Visibility" Value="Visible" />
                        <Setter TargetName="Bg" Property="Fill">
                            <Setter.Value>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource PrimaryColor}" />
                                </LinearGradientBrush>
                            </Setter.Value>
                        </Setter>
                        <Setter TargetName="Bg" Property="Opacity" Value="0.65" />
                    </MultiTrigger>
                    <Trigger Property="Icon" Value="{x:Null}">
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsChecked" Value="true">
                        <Setter TargetName="GlyphPanel" Property="Visibility" Value="Visible" />
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsHighlighted" Value="true">
                        <Setter TargetName="Bg" Property="RadiusX" Value="4" />
                        <Setter TargetName="Bg" Property="RadiusY" Value="4" />
                        <Setter TargetName="Bg" Property="Fill">
                            <Setter.Value>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource PrimaryColor}" />
                                </LinearGradientBrush>
                            </Setter.Value>
                        </Setter>
                        <Setter TargetName="Bg" Property="Opacity" Value="0.65" />
                    </Trigger>
                    <Trigger Property="IsKeyboardFocused" Value="true">
                        <Setter TargetName="Bg" Property="Stroke" Value="#E0717070" />
                        <Setter TargetName="InnerBorder" Property="Stroke" Value="#50747272" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Foreground" Value="#FF9A9A9A" />
                        <Setter TargetName="GlyphPanel" Property="Fill" Value="#848589" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
            <ControlTemplate x:Key="{ComponentResourceKey ResourceId=SubmenuHeaderTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}" TargetType="{x:Type MenuItem}">
                <Grid SnapsToDevicePixels="true">
                    <Rectangle x:Name="Bg"
                               Margin="1,1,1,1"
                               Opacity="0"
                               RadiusX="3"
                               RadiusY="3"
                               Stroke="{TemplateBinding BorderBrush}"
                               StrokeThickness="1">
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1.758">
                                <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                    <Rectangle x:Name="InnerBorder"
                               Margin="1"
                               Opacity="0"
                               RadiusX="3"
                               RadiusY="3"
                               Stroke="{TemplateBinding BorderBrush}"
                               StrokeThickness="1">
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1.758">
                                <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                    <Grid x:Name="SelectHoverGrid" Opacity="0">
                        <Border x:Name="Background"
                                HorizontalAlignment="Stretch"
                                BorderBrush="{DynamicResource SecondaryBrush}"
                                BorderThickness="0.5,0.5,1.5,1.5"
                                CornerRadius="12"
                                Visibility="Visible">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                    <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <Grid x:Name="InnerShadow" HorizontalAlignment="Stretch">
                            <Border x:Name="BottomShadow"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource BottomShadowMask}">
                                <Border.Background>
                                    <SolidColorBrush Color="{DynamicResource SecondaryColor}" />
                                </Border.Background>
                            </Border>
                            <Border x:Name="Halo"
                                    CornerRadius="12"
                                    OpacityMask="{StaticResource HaloMask}">
                                <Border.Background>
                                    <SolidColorBrush Color="{DynamicResource SecondaryColor}" />
                                </Border.Background>
                            </Border>
                        </Grid>
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"
                                              MinWidth="24"
                                              SharedSizeGroup="MenuItemIconColumnGroup" />
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="37" />
                            <ColumnDefinition Width="Auto" SharedSizeGroup="MenuItemIGTColumnGroup" />
                            <ColumnDefinition Width="17" />
                        </Grid.ColumnDefinitions>
                        <ContentPresenter x:Name="Icon"
                                          Margin="1"
                                          VerticalAlignment="Center"
                                          ContentSource="Icon"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <Border x:Name="GlyphPanel"
                                Width="22"
                                Height="22"
                                Margin="1"
                                Background="{DynamicResource PrimaryBrush}"
                                BorderBrush="{DynamicResource SecondaryBrush}"
                                BorderThickness="1"
                                CornerRadius="3"
                                Visibility="Hidden">
                            <Path x:Name="Glyph"
                                  Width="9"
                                  Height="11"
                                  Data="{StaticResource Checkmark}"
                                  Fill="{TemplateBinding Foreground}"
                                  FlowDirection="LeftToRight" />
                        </Border>
                        <ContentPresenter Grid.Column="2"
                                          Margin="{TemplateBinding Padding}"
                                          ContentSource="Header"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        <TextBlock Grid.Column="4"
                                   Margin="{TemplateBinding Padding}"
                                   Foreground="{TemplateBinding Foreground}"
                                   Text="{TemplateBinding InputGestureText}"
                                   Visibility="Collapsed" />
                        <Path Grid.Column="5"
                              Margin="4,0,0,0"
                              VerticalAlignment="Center"
                              Data="{StaticResource RightArrow}"
                              Fill="{TemplateBinding Foreground}" />
                    </Grid>
                    <Popup x:Name="PART_Popup"
                           AllowsTransparency="true"
                           Focusable="false"
                           HorizontalOffset="-2"
                           IsOpen="{Binding Path=IsSubmenuOpen,
                                            RelativeSource={RelativeSource TemplatedParent}}"
                           Placement="Right"
                           PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}"
                           VerticalOffset="-3">
                        <Border x:Name="Shdw"
                                Background="{x:Null}"
                                CornerRadius="4,4,4,4">
                            <ContentControl x:Name="SubMenuBorder"
                                            IsTabStop="false"
                                            Template="{DynamicResource {ComponentResourceKey ResourceId=SubmenuContent,
                                                                                             TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                <ScrollViewer CanContentScroll="true" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                    <ItemsPresenter Margin="2"
                                                    Grid.IsSharedSizeScope="true"
                                                    KeyboardNavigation.DirectionalNavigation="Cycle"
                                                    KeyboardNavigation.TabNavigation="Cycle"
                                                    SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </ScrollViewer>
                            </ContentControl>
                        </Border>
                    </Popup>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsSuspendingPopupAnimation" Value="true">
                        <Setter TargetName="PART_Popup" Property="PopupAnimation" Value="None" />
                    </Trigger>
                    <Trigger Property="Icon" Value="{x:Null}">
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsChecked" Value="true">
                        <Setter TargetName="GlyphPanel" Property="Visibility" Value="Visible" />
                        <Setter TargetName="Icon" Property="Visibility" Value="Collapsed" />
                    </Trigger>
                    <Trigger Property="IsHighlighted" Value="true">
                        <Setter TargetName="SelectHoverGrid" Property="Opacity" Value="1" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Foreground" Value="#FF9A9A9A" />
                        <Setter TargetName="GlyphPanel" Property="Background" Value="#EEE9E9" />
                        <Setter TargetName="GlyphPanel" Property="BorderBrush" Value="#DBD6D6" />
                        <Setter TargetName="Glyph" Property="Fill" Value="#848589" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Style.Resources>
        <Setter Property="HorizontalContentAlignment" Value="{Binding Path=HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
        <Setter Property="VerticalContentAlignment" Value="{Binding Path=VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Template" Value="{DynamicResource {ComponentResourceKey ResourceId=SubmenuItemTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}}" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Style.Triggers>
            <Trigger Property="Role" Value="TopLevelHeader">
                <Setter Property="Padding" Value="7,2,8,3" />
                <Setter Property="Template" Value="{DynamicResource {ComponentResourceKey ResourceId=TopLevelHeaderTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}}" />
                <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
            </Trigger>
            <Trigger Property="Role" Value="TopLevelItem">
                <Setter Property="Padding" Value="7,2,8,3" />
                <Setter Property="Template" Value="{DynamicResource {ComponentResourceKey ResourceId=TopLevelItemTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}}" />
            </Trigger>
            <Trigger Property="Role" Value="SubmenuHeader">
                <Setter Property="Padding" Value="2,3,2,3" />
                <Setter Property="Template" Value="{DynamicResource {ComponentResourceKey ResourceId=SubmenuHeaderTemplateKey, TypeInTargetAssembly={x:Type MenuItem}}}" />
                <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
            </Trigger>
            <Trigger Property="Role" Value="SubmenuItem">
                <Setter Property="Padding" Value="2,3,2,3" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <!--  ToolBar  -->
    <Style TargetType="{x:Type ToolBar}">
        <Style.Resources>
            <Style x:Key="ToolBarVerticalOverflowButtonStyle" TargetType="{x:Type ToggleButton}">
                <Setter Property="MinHeight" Value="0" />
                <Setter Property="MinWidth" Value="0" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Border x:Name="Bd"
                                    BorderBrush="{DynamicResource SecondaryBrush}"
                                    BorderThickness="1,1,1,1"
                                    CornerRadius="0,0,3,3"
                                    SnapsToDevicePixels="true">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1.407">
                                        <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                        <GradientStop Offset="1" Color="{DynamicResource PrimaryColor}" />
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Canvas Width="7"
                                        Height="6"
                                        Margin="2,7,2,2"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        SnapsToDevicePixels="true">
                                    <Path x:Name="path"
                                          Data="M 1.5 1 L 1.5 6"
                                          Stroke="White" />
                                    <Path x:Name="path1"
                                          Data="M 0.5 0 L 0.5 5"
                                          Stroke="{TemplateBinding Foreground}" />
                                    <Path x:Name="path2"
                                          Data="M 3.5 0.5 L 7 3.5 L 4 6.5 Z"
                                          Fill="White" />
                                    <Path x:Name="path3"
                                          Data="M 3 -0.5 L 6 2.5 L 3 5.5 Z"
                                          Fill="{TemplateBinding Foreground}" />
                                </Canvas>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter TargetName="Bd" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1.407">
                                                <GradientStop Offset="0" Color="#FFCCCCCC" />
                                                <GradientStop Offset="0.522" Color="#FFFFFFFF" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsKeyboardFocused" Value="true">
                                    <Setter TargetName="Bd" Property="BorderBrush" Value="{DynamicResource TextBrush}" />
                                    <Setter TargetName="Bd" Property="BorderThickness" Value="1,0,1,1" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter TargetName="Bd" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1.407">
                                                <GradientStop Offset="0.671" Color="{DynamicResource DisabledColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource DisabledColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="path" Property="Opacity" Value="0.5" />
                                    <Setter TargetName="path1" Property="Opacity" Value="0.5" />
                                    <Setter TargetName="path2" Property="Opacity" Value="0.5" />
                                    <Setter TargetName="path3" Property="Opacity" Value="0.5" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ToolBarHorizontalOverflowButtonStyle" TargetType="{x:Type ToggleButton}">
                <Setter Property="MinHeight" Value="0" />
                <Setter Property="MinWidth" Value="0" />
                <Setter Property="Background" Value="#00FFFFFF" />
                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
                <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Border x:Name="Bd"
                                    BorderBrush="{DynamicResource SecondaryBrush}"
                                    BorderThickness="1,1,1,1"
                                    CornerRadius="0,3,3,0"
                                    SnapsToDevicePixels="true">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,-0.524" EndPoint="0,1.307">
                                        <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                        <GradientStop Offset="1" Color="{DynamicResource PrimaryColor}" />
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Canvas Width="6"
                                        Height="7"
                                        Margin="7,2,2,2"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        SnapsToDevicePixels="true">
                                    <Path x:Name="path2"
                                          Data="M 1 1.5 L 6 1.5"
                                          Stroke="White" />
                                    <Path x:Name="path"
                                          Data="M 0 0.5 L 5 0.5"
                                          Stroke="{TemplateBinding Foreground}" />
                                    <Path x:Name="path3"
                                          Data="M 0.5 4 L 6.5 4 L 3.5 7 Z"
                                          Fill="White" />
                                    <Path x:Name="path1"
                                          Data="M -0.5 3 L 5.5 3 L 2.5 6 Z"
                                          Fill="{TemplateBinding Foreground}" />
                                </Canvas>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter TargetName="Bd" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0,-0.524" EndPoint="0,1.307">
                                                <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.643" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsKeyboardFocused" Value="true">
                                    <Setter TargetName="Bd" Property="BorderThickness" Value="0,1,1,1" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter TargetName="Bd" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1.307">
                                                <GradientStop Offset="0.74" Color="{DynamicResource DisabledColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource DisabledColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="path" Property="Opacity" Value="0.5" />
                                    <Setter TargetName="path1" Property="Opacity" Value="0.5" />
                                    <Setter TargetName="path2" Property="Opacity" Value="0.5" />
                                    <Setter TargetName="path3" Property="Opacity" Value="0.5" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ToolBarThumbStyle" TargetType="{x:Type Thumb}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type Thumb}">
                            <Border Background="Transparent"
                                    Padding="{TemplateBinding Padding}"
                                    SnapsToDevicePixels="True">
                                <Rectangle>
                                    <Rectangle.Fill>
                                        <DrawingBrush TileMode="Tile"
                                                      Viewbox="0,0,4,4"
                                                      ViewboxUnits="Absolute"
                                                      Viewport="0,0,4,4"
                                                      ViewportUnits="Absolute">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FFCCCCCC" Geometry="M1,1L1,3 3,3 3,1z" />
                                                    <GeometryDrawing Brush="#FF333333" Geometry="M0,0L0,2 2,2 2,0z" />
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter Property="Cursor" Value="SizeAll" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ToolBarButtonBaseStyle" TargetType="{x:Type ButtonBase}">
                <Setter Property="SnapsToDevicePixels" Value="true" />
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ButtonBase}">
                            <Border x:Name="Border"
                                    Background="Transparent"
                                    BorderBrush="Transparent"
                                    BorderThickness="1">
                                <ContentPresenter x:Name="contentPresenter"
                                                  Margin="10,5"
                                                  HorizontalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsKeyboardFocused" Value="true">
                                    <Setter TargetName="Border" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter TargetName="Border" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Offset="0" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
                                </Trigger>
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter TargetName="Border" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Offset="0.161" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.875" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="Border" Property="BorderBrush">
                                        <Setter.Value>
                                            <SolidColorBrush Color="{DynamicResource SecondaryColor}" />
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="ToggleButton.IsChecked" Value="true">
                                    <Setter TargetName="Border" Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Offset="0" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="1" Color="{DynamicResource SecondaryColor}" />
                                                <GradientStop Offset="0.129" Color="{DynamicResource PrimaryColor}" />
                                                <GradientStop Offset="0.884" Color="{DynamicResource PrimaryColor}" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="Border" Property="BorderBrush">
                                        <Setter.Value>
                                            <SolidColorBrush Color="{DynamicResource SecondaryColor}" />
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter TargetName="contentPresenter" Property="Opacity" Value="0.5" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="{x:Static ToolBar.ButtonStyleKey}"
                   BasedOn="{StaticResource ToolBarButtonBaseStyle}"
                   TargetType="{x:Type Button}" />
        </Style.Resources>
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value="1,1,1,1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ToolBar}">
                    <Grid x:Name="Grid"
                          Margin="3,1,1,1"
                          SnapsToDevicePixels="true">
                        <Grid x:Name="OverflowGrid" HorizontalAlignment="Right">
                            <ToggleButton x:Name="OverflowButton"
                                          ClickMode="Press"
                                          FocusVisualStyle="{x:Null}"
                                          IsChecked="{Binding Path=IsOverflowOpen,
                                                              Mode=TwoWay,
                                                              RelativeSource={RelativeSource TemplatedParent}}"
                                          IsEnabled="{TemplateBinding HasOverflowItems}"
                                          Style="{StaticResource ToolBarHorizontalOverflowButtonStyle}" />
                            <Popup x:Name="OverflowPopup"
                                   AllowsTransparency="true"
                                   Focusable="false"
                                   IsOpen="{Binding Path=IsOverflowOpen,
                                                    RelativeSource={RelativeSource TemplatedParent}}"
                                   Placement="Bottom"
                                   PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}"
                                   StaysOpen="false">
                                <Border x:Name="Shdw">
                                    <Border Background="{DynamicResource PrimaryBrush}"
                                            BorderBrush="{DynamicResource SecondaryBrush}"
                                            BorderThickness="1"
                                            CornerRadius="4,4,4,4">
                                        <ToolBarOverflowPanel x:Name="PART_ToolBarOverflowPanel"
                                                              Margin="2"
                                                              FocusVisualStyle="{x:Null}"
                                                              Focusable="true"
                                                              KeyboardNavigation.DirectionalNavigation="Cycle"
                                                              KeyboardNavigation.TabNavigation="Cycle"
                                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                                              WrapWidth="200" />
                                    </Border>
                                </Border>
                            </Popup>
                        </Grid>
                        <Border x:Name="MainPanelBorder"
                                Margin="0,0,11,0"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="3,3,3,3"
                                Padding="{TemplateBinding Padding}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="0.485*" />
                                    <RowDefinition Height="0.515*" />
                                </Grid.RowDefinitions>
                                <Grid x:Name="Shadow" Grid.RowSpan="2">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="6" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="6" />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="6" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="6" />
                                    </Grid.ColumnDefinitions>
                                    <Border Background="{StaticResource SecondaryBrush}" CornerRadius="2.5,0,0,0">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.655,0.644">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="3.489"
                                                                        ScaleY="3.489" />
                                                        <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                        <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                        <TranslateTransform X="-0.063" Y="-0.025" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Column="1" Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="0.5,-1.025" EndPoint="0.5,1">
                                                <GradientStop Offset="0" Color="#A5FFFFFF" />
                                                <GradientStop Offset="1" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Column="2"
                                            Background="{StaticResource SecondaryBrush}"
                                            CornerRadius="0,2.5,0,0">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.283,0.71">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="2.805"
                                                                        ScaleY="2.805" />
                                                        <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                        <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                        <TranslateTransform X="0.144" Y="-0.125" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="1" Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="-0.972,0.5" EndPoint="1,.5">
                                                <GradientStop Offset="1" Color="#00000000" />
                                                <GradientStop Offset="0" Color="#A5FFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="1"
                                            Grid.Column="1"
                                            Background="{StaticResource SecondaryBrush}"
                                            OpacityMask="#00000000" />
                                    <Border Grid.Row="1"
                                            Grid.Column="2"
                                            Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="2.01,0.5" EndPoint="0,0.5">
                                                <GradientStop Offset="0" Color="#A5FFFFFF" />
                                                <GradientStop Offset="1" Color="#00FFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="2"
                                            Background="{StaticResource SecondaryBrush}"
                                            CornerRadius="0,0,0,2.5">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.646,0.361">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="3.438"
                                                                        ScaleY="3.438" />
                                                        <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                        <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                        <TranslateTransform X="-0.072" Y="0.072" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="2"
                                            Grid.Column="1"
                                            Margin="0,0,0,0"
                                            Background="{StaticResource SecondaryBrush}">
                                        <Border.OpacityMask>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,2.065">
                                                <GradientStop Offset="0" Color="#00000000" />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </LinearGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                    <Border Grid.Row="2"
                                            Grid.Column="2"
                                            Background="{StaticResource SecondaryBrush}"
                                            CornerRadius="0,0,2.5,0">
                                        <Border.OpacityMask>
                                            <RadialGradientBrush GradientOrigin="0.287,0.495">
                                                <RadialGradientBrush.RelativeTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform CenterX="0.5"
                                                                        CenterY="0.5"
                                                                        ScaleX="4.282"
                                                                        ScaleY="3.792" />
                                                        <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5" />
                                                        <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5" />
                                                        <TranslateTransform X="0.495" Y="-0.463" />
                                                    </TransformGroup>
                                                </RadialGradientBrush.RelativeTransform>
                                                <GradientStop />
                                                <GradientStop Offset="1" Color="#A5FFFFFF" />
                                            </RadialGradientBrush>
                                        </Border.OpacityMask>
                                    </Border>
                                </Grid>
                                <DockPanel Grid.RowSpan="2"
                                           KeyboardNavigation.TabIndex="1"
                                           KeyboardNavigation.TabNavigation="Local">
                                    <Thumb x:Name="ToolBarThumb"
                                           Width="10"
                                           Margin="-3,-1,0,0"
                                           Background="{DynamicResource SecondaryBrush}"
                                           Padding="6,5,1,6"
                                           Style="{StaticResource ToolBarThumbStyle}" />
                                    <ContentPresenter x:Name="ToolBarHeader"
                                                      Margin="4,0,4,0"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"
                                                      ContentSource="Header"
                                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                    <ToolBarPanel x:Name="PART_ToolBarPanel"
                                                  Margin="0,1,2,2"
                                                  IsItemsHost="true"
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </DockPanel>
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsOverflowOpen" Value="true">
                            <Setter TargetName="ToolBarThumb" Property="IsEnabled" Value="false" />
                        </Trigger>
                        <Trigger Property="Header" Value="{x:Null}">
                            <Setter TargetName="ToolBarHeader" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="ToolBarTray.IsLocked" Value="true">
                            <Setter TargetName="ToolBarThumb" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger SourceName="OverflowPopup" Property="HasDropShadow" Value="true">
                            <Setter TargetName="Shdw" Property="Margin" Value="0,0,5,5" />
                            <Setter TargetName="Shdw" Property="SnapsToDevicePixels" Value="true" />
                        </Trigger>
                        <Trigger Property="Orientation" Value="Vertical">
                            <Setter TargetName="Grid" Property="Margin" Value="1,3,1,1" />
                            <Setter TargetName="OverflowButton" Property="Style" Value="{StaticResource ToolBarVerticalOverflowButtonStyle}" />
                            <Setter TargetName="ToolBarThumb" Property="Height" Value="10" />
                            <Setter TargetName="ToolBarThumb" Property="Width" Value="Auto" />
                            <Setter TargetName="ToolBarThumb" Property="Margin" Value="-1,-3,0,0" />
                            <Setter TargetName="ToolBarThumb" Property="Padding" Value="5,6,6,1" />
                            <Setter TargetName="ToolBarHeader" Property="Margin" Value="0,0,0,4" />
                            <Setter TargetName="PART_ToolBarPanel" Property="Margin" Value="1,0,2,2" />
                            <Setter TargetName="ToolBarThumb" Property="DockPanel.Dock" Value="Top" />
                            <Setter TargetName="ToolBarHeader" Property="DockPanel.Dock" Value="Top" />
                            <Setter TargetName="OverflowGrid" Property="HorizontalAlignment" Value="Stretch" />
                            <Setter TargetName="OverflowGrid" Property="VerticalAlignment" Value="Bottom" />
                            <Setter TargetName="OverflowPopup" Property="Placement" Value="Right" />
                            <Setter TargetName="MainPanelBorder" Property="Margin" Value="0,0,0,11" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  ToolTip  -->
    <Style TargetType="ToolTip">
        <Setter Property="Foreground" Value="{StaticResource TextBrush}" />
        <Setter Property="Background" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="Padding" Value="5,0" />
        <Setter Property="BorderBrush" Value="{StaticResource SecondaryBrush}" />
        <Setter Property="Content" Value="ToolTip" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToolTip">
                    <Grid x:Name="RootElement">
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="MouseOver" />
                                <vsm:VisualState x:Name="Disabled" />
                                <vsm:VisualState x:Name="ReadOnly" />
                            </vsm:VisualStateGroup>
                            <vsm:VisualStateGroup x:Name="FocusStates">
                                <vsm:VisualState x:Name="Focused" />
                                <vsm:VisualState x:Name="Unfocused" />
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Border x:Name="Background"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="0.5,0.5,1,1"
                                CornerRadius="12" />
                        <ContentPresenter x:Name="contentPresenter"
                                          Margin="10,5"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          Content="{TemplateBinding Content}"
                                          RenderTransformOrigin="0.5,0.5" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  ProgressBar  -->
    <Style x:Key="{x:Type ProgressBar}" TargetType="{x:Type ProgressBar}">
        <Setter Property="Foreground">
            <Setter.Value>
                <LinearGradientBrush StartPoint="0.5,-.5" EndPoint="0.5,1.75">
                    <GradientStop Offset=".3" Color="{StaticResource PrimaryColor}" />
                    <GradientStop Offset="1" Color="{StaticResource SecondaryColor}" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
        <Setter Property="Background">
            <Setter.Value>
                <LinearGradientBrush StartPoint="0.5,-.25" EndPoint="0.5,1.25">
                    <GradientStop Offset="0" Color="{StaticResource SecondaryColor}" />
                    <GradientStop Offset="1" Color="{StaticResource PrimaryColor}" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
        <Setter Property="BorderBrush" Value="{StaticResource SecondaryBrush}" />
        <Setter Property="BorderThickness" Value=".5,.5,1.5,1.5" />
        <Setter Property="Maximum" Value="100" />
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ProgressBar}">
                    <Grid x:Name="Root" SnapsToDevicePixels="True">
                        <Border x:Name="PART_Track"
                                Background="{TemplateBinding BorderBrush}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4,4,4,4" />
                        <Grid x:Name="ProgressBarRootGrid">
                            <Grid x:Name="IndeterminateRoot" Visibility="Collapsed">
                                <Rectangle x:Name="IndeterminateSolidFill"
                                           Margin="{TemplateBinding BorderThickness}"
                                           Fill="{TemplateBinding Foreground}"
                                           Opacity="1"
                                           RadiusX="4"
                                           RadiusY="4"
                                           RenderTransformOrigin="0.5,0.5"
                                           Stroke="#FF448DCA"
                                           StrokeThickness="0" />
                                <Rectangle x:Name="IndeterminateGradientFill"
                                           Margin="{TemplateBinding BorderThickness}"
                                           Opacity="0.7"
                                           RadiusX="4"
                                           RadiusY="4"
                                           StrokeThickness="1">
                                    <Rectangle.Fill>
                                        <LinearGradientBrush MappingMode="Absolute" SpreadMethod="Repeat" StartPoint="20,1" EndPoint="0,1">
                                            <LinearGradientBrush.Transform>
                                                <TransformGroup>
                                                    <TranslateTransform X="0" />
                                                    <SkewTransform AngleX="-30" />
                                                </TransformGroup>
                                            </LinearGradientBrush.Transform>
                                            <GradientStop Offset="0" Color="#FFFFFFFF" />
                                            <GradientStop Offset=".25" Color="#00FFFFFF" />
                                            <GradientStop Offset="0.85" Color="#FFFFFFFF" />
                                        </LinearGradientBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Grid>
                            <Grid x:Name="DeterminateRoot">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <Border x:Name="PART_Indicator"
                                        Margin="1,1,1,1"
                                        Background="{TemplateBinding Foreground}"
                                        CornerRadius="4,4,4,4" />
                                <Border Grid.Column="1"
                                        Margin="0,1,1,1"
                                        Background="{TemplateBinding Background}"
                                        CornerRadius="0,4,4,0">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush MappingMode="Absolute" StartPoint="0,0" EndPoint="20,0">
                                            <GradientStop Offset="0" Color="#00FFFFFF" />
                                            <GradientStop Offset="0.25" Color="#59FFFFFF" />
                                            <GradientStop Offset="1" Color="#A5000000" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                            </Grid>
                        </Grid>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsIndeterminate" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard RepeatBehavior="Forever">
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="IndeterminateGradientFill" Storyboard.TargetProperty="(Shape.Fill).(LinearGradientBrush.Transform).(TransformGroup.Children)[0].X">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0" />
                                            <SplineDoubleKeyFrame KeyTime="00:00:.5" Value="20" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Setter TargetName="IndeterminateRoot" Property="Visibility" Value="Visible" />
                            <Setter TargetName="DeterminateRoot" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  Treeview  -->
    <Style x:Key="{x:Type TreeView}" TargetType="{x:Type TreeView}">
        <Setter Property="Background" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="Foreground" Value="{StaticResource TextBrush}" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Top" />
        <Setter Property="Cursor" Value="Arrow" />
        <Setter Property="BorderThickness" Value="1.5,1.5,.75,.75" />
        <Setter Property="Padding" Value="1" />
        <Setter Property="BorderBrush">
            <Setter.Value>
                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1.5">
                    <GradientStop Color="{StaticResource SecondaryColor}" />
                    <GradientStop Offset="1" Color="{StaticResource PrimaryColor}" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TreeView}">
                    <Border x:Name="Root"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                            Padding="{TemplateBinding Padding}">
                        <Grid>
                            <Grid x:Name="InnerShadow"
                                  Margin="-1"
                                  Opacity="0.25">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="6" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="6" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="6" />
                                    <RowDefinition />
                                    <RowDefinition Height="6" />
                                </Grid.RowDefinitions>
                                <Border Background="{StaticResource SecondaryBrush}" CornerRadius="2.5,0,0,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush>
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="2"
                                                                    ScaleY="2" />
                                                    <TranslateTransform X="0.5" Y="0.5" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#FFFFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Column="1" Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                            <GradientStop Offset="0" Color="#FFFFFFFF" />
                                            <GradientStop Offset="1" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,2.5,0,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush>
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="2"
                                                                    ScaleY="2" />
                                                    <TranslateTransform X="-0.5" Y="0.5" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#FFFFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="1" Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0,.5" EndPoint="1,.5">
                                            <GradientStop Offset="1" Color="#00000000" />
                                            <GradientStop Offset="0" Color="#FFFFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="1"
                                        Grid.Column="1"
                                        Background="{StaticResource SecondaryBrush}"
                                        OpacityMask="#00000000" />
                                <Border Grid.Row="1"
                                        Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0,.5" EndPoint="1,.5">
                                            <GradientStop Offset="1" Color="#FF000000" />
                                            <GradientStop Offset="0" Color="#00FFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,0,0,2.5">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush>
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="2"
                                                                    ScaleY="2" />
                                                    <TranslateTransform X="0.5" Y="-0.5" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#FFFFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Grid.Column="1"
                                        Background="{StaticResource SecondaryBrush}">
                                    <Border.OpacityMask>
                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                            <GradientStop Offset="0" Color="#00000000" />
                                            <GradientStop Offset="1" Color="#FFFFFFFF" />
                                        </LinearGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                                <Border Grid.Row="2"
                                        Grid.Column="2"
                                        Background="{StaticResource SecondaryBrush}"
                                        CornerRadius="0,0,2.5,0">
                                    <Border.OpacityMask>
                                        <RadialGradientBrush>
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform CenterX="0.5"
                                                                    CenterY="0.5"
                                                                    ScaleX="2"
                                                                    ScaleY="2" />
                                                    <TranslateTransform X="-0.5" Y="-0.5" />
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop />
                                            <GradientStop Offset="1" Color="#FFFFFFFF" />
                                        </RadialGradientBrush>
                                    </Border.OpacityMask>
                                </Border>
                            </Grid>
                            <ScrollViewer x:Name="ScrollViewer"
                                          Background="{x:Null}"
                                          BorderBrush="Transparent"
                                          BorderThickness="0"
                                          HorizontalScrollBarVisibility="Auto"
                                          IsTabStop="False"
                                          VerticalScrollBarVisibility="Auto">
                                <ItemsPresenter x:Name="TreeItems" Margin="5" />
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  TreeviewItem  -->
    <Style x:Key="{x:Type TreeViewItem}" TargetType="{x:Type TreeViewItem}">
        <Setter Property="Padding" Value="3" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Top" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="Cursor" Value="Arrow" />
        <Setter Property="IsTabStop" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TreeViewItem}">
                    <Grid x:Name="Root" Background="{x:Null}">
                        <vsm:VisualStateManager.VisualStateGroups>
                            <vsm:VisualStateGroup x:Name="CommonStates">
                                <vsm:VisualState x:Name="Normal" />
                                <vsm:VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Duration="0"
                                                                       Storyboard.TargetName="Header"
                                                                       Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="#FF999999" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="Root"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0.75" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </vsm:VisualState>
                            </vsm:VisualStateGroup>
                        </vsm:VisualStateManager.VisualStateGroups>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="15" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <ToggleButton x:Name="Expander"
                                      HorizontalAlignment="Stretch"
                                      VerticalAlignment="Stretch"
                                      ClickMode="Press"
                                      IsChecked="{Binding Path=IsExpanded,
                                                          RelativeSource={RelativeSource TemplatedParent}}"
                                      IsTabStop="False">
                            <ToggleButton.Template>
                                <ControlTemplate TargetType="ToggleButton">
                                    <Grid x:Name="Root" Background="Transparent">
                                        <vsm:VisualStateManager.VisualStateGroups>
                                            <vsm:VisualStateGroup x:Name="CommonStates">
                                                <vsm:VisualState x:Name="Normal" />
                                                <vsm:VisualState x:Name="MouseOver">
                                                    <Storyboard>
                                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                       Storyboard.TargetName="Border"
                                                                                       Storyboard.TargetProperty="(Shape.StrokeThickness)">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value="1.25" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </vsm:VisualState>
                                                <vsm:VisualState x:Name="Disabled">
                                                    <Storyboard>
                                                        <DoubleAnimation Duration="0"
                                                                         Storyboard.TargetName="Root"
                                                                         Storyboard.TargetProperty="Opacity"
                                                                         To=".7" />
                                                    </Storyboard>
                                                </vsm:VisualState>
                                            </vsm:VisualStateGroup>
                                            <vsm:VisualStateGroup x:Name="CheckStates">
                                                <vsm:VisualState x:Name="Unchecked" />
                                                <vsm:VisualState x:Name="Checked">
                                                    <Storyboard>
                                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                       Storyboard.TargetName="grid"
                                                                                       Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(RotateTransform.Angle)">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value="45" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                       Storyboard.TargetName="Arrow"
                                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                                       Storyboard.TargetName="Border"
                                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                                            <SplineDoubleKeyFrame KeyTime="0" Value="0" />
                                                        </DoubleAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </vsm:VisualState>
                                            </vsm:VisualStateGroup>
                                        </vsm:VisualStateManager.VisualStateGroups>
                                        <Grid Margin="2 2 5 2" HorizontalAlignment="Right">
                                            <Grid x:Name="grid"
                                                  Width="5"
                                                  Height="10"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  RenderTransformOrigin=".25,.8">
                                                <Grid.RenderTransform>
                                                    <TransformGroup>
                                                        <RotateTransform />
                                                    </TransformGroup>
                                                </Grid.RenderTransform>
                                                <Path x:Name="Arrow"
                                                      Data="M 0,0 L 0,10 L 5,5 Z"
                                                      Fill="{StaticResource TextBrush}"
                                                      Opacity="0"
                                                      Stroke="{x:Null}"
                                                      StrokeLineJoin="Miter"
                                                      StrokeThickness=".75" />
                                                <Path x:Name="Border"
                                                      Data="M 0,0 L 0,10 L 5,5 Z"
                                                      Fill="{x:Null}"
                                                      Stroke="{StaticResource TextBrush}"
                                                      StrokeLineJoin="Miter"
                                                      StrokeThickness=".75" />
                                            </Grid>
                                        </Grid>
                                    </Grid>
                                </ControlTemplate>
                            </ToggleButton.Template>
                        </ToggleButton>
                        <Grid x:Name="grid"
                              Grid.Column="1"
                              Opacity="0">
                            <Border x:Name="Background"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness=".5,0.5,1,1"
                                    CornerRadius="12">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0.5,-.5" EndPoint="0.5,1.75">
                                        <GradientStop Offset="0" Color="{StaticResource SecondaryColor}" />
                                        <GradientStop Offset=".01" Color="{StaticResource PrimaryColor}" />
                                        <GradientStop Offset=".3" Color="{StaticResource PrimaryColor}" />
                                        <GradientStop Offset="1" Color="{StaticResource SecondaryColor}" />
                                    </LinearGradientBrush>
                                </Border.Background>
                            </Border>
                            <Border x:Name="Halo"
                                    Background="{StaticResource SecondaryBrush}"
                                    CornerRadius="12"
                                    Opacity=".65"
                                    OpacityMask="{StaticResource HaloMask}" />
                        </Grid>
                        <Button x:Name="Header"
                                Grid.Column="1"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                Background="{TemplateBinding Background}"
                                ClickMode="Hover"
                                Content="{TemplateBinding Header}"
                                ContentTemplate="{TemplateBinding HeaderTemplate}"
                                Cursor="{TemplateBinding Cursor}"
                                Foreground="{TemplateBinding Foreground}"
                                IsTabStop="False"
                                Padding="8,3,8,3">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Grid Background="{TemplateBinding Background}">
                                        <vsm:VisualStateManager.VisualStateGroups>
                                            <vsm:VisualStateGroup x:Name="CommonStates">
                                                <vsm:VisualState x:Name="Normal" />
                                                <vsm:VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <DoubleAnimation Duration="0"
                                                                         Storyboard.TargetName="hover"
                                                                         Storyboard.TargetProperty="Opacity"
                                                                         To=".5" />
                                                    </Storyboard>
                                                </vsm:VisualState>
                                                <vsm:VisualState x:Name="Disabled">
                                                    <Storyboard>
                                                        <DoubleAnimation Duration="0"
                                                                         Storyboard.TargetName="content"
                                                                         Storyboard.TargetProperty="Opacity"
                                                                         To=".55" />
                                                    </Storyboard>
                                                </vsm:VisualState>
                                            </vsm:VisualStateGroup>
                                        </vsm:VisualStateManager.VisualStateGroups>
                                        <Grid x:Name="hover" Opacity="0">
                                            <Border x:Name="Background"
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness=".5,0.5,1,1"
                                                    CornerRadius="12">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0.5,-.5" EndPoint="0.5,1.75">
                                                        <GradientStop Offset="0" Color="{StaticResource SecondaryColor}" />
                                                        <GradientStop Offset=".01" Color="{StaticResource PrimaryColor}" />
                                                        <GradientStop Offset=".3" Color="{StaticResource PrimaryColor}" />
                                                        <GradientStop Offset="1" Color="{StaticResource SecondaryColor}" />
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                            </Border>
                                            <Border x:Name="Halo"
                                                    Background="{StaticResource SecondaryBrush}"
                                                    CornerRadius="12"
                                                    Opacity=".65"
                                                    OpacityMask="{StaticResource HaloMask}" />
                                        </Grid>
                                        <ContentPresenter x:Name="content"
                                                          Margin="{TemplateBinding Padding}"
                                                          HorizontalAlignment="Left"
                                                          Content="{TemplateBinding Content}"
                                                          ContentTemplate="{TemplateBinding ContentTemplate}"
                                                          Cursor="{TemplateBinding Cursor}" />
                                    </Grid>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                        <ItemsPresenter x:Name="ItemsHost"
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        Grid.ColumnSpan="2"
                                        Visibility="Visible" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsExpanded" Value="false">
                            <Setter TargetName="ItemsHost" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="HasItems" Value="false">
                            <Setter TargetName="Expander" Property="Visibility" Value="Hidden" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Duration="00:00:00.3"
                                                         Storyboard.TargetName="MouseOverGrid"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0.25" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Duration="00:00:00.3"
                                                         Storyboard.TargetName="MouseOverGrid"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="true">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="grid"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Duration="00:00:00.001"
                                                                       Storyboard.TargetName="grid"
                                                                       Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0" Value="0" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="true" />
                                <Condition Property="IsSelectionActive" Value="false" />
                            </MultiTrigger.Conditions>
                            <MultiTrigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Duration="0"
                                                         Storyboard.TargetName="MouseOverGrid"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0.5" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </MultiTrigger.EnterActions>
                            <MultiTrigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Duration="00:00:00.3"
                                                         Storyboard.TargetName="MouseOverGrid"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </MultiTrigger.ExitActions>
                        </MultiTrigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
